/*! For license information please see chunk.c4301fcda6488ca71018.js.LICENSE.txt */
"use strict";(self.webpackChunkai_workout_assistant=self.webpackChunkai_workout_assistant||[]).push([[782],{15149:(e,t,n)=>{n.d(t,{GJ:()=>r,uI:()=>s});class r{constructor(e,t){this.backend=e,this.dataMover=t,this.data=new WeakMap,this.dataIdsCount=0}get(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)}set(e,t){this.dataIdsCount++,this.data.set(e,t)}has(e){return this.data.has(e)}delete(e){return this.dataIdsCount--,this.data.delete(e)}numDataIds(){return this.dataIdsCount}}class s{refCount(e){return a("refCount")}incRef(e){return a("incRef")}timerAvailable(){return!0}time(e){return a("time")}read(e){return a("read")}readSync(e){return a("readSync")}readToGPU(e,t){return a("readToGPU")}numDataIds(){return a("numDataIds")}disposeData(e,t){return a("disposeData")}write(e,t,n){return a("write")}move(e,t,n,r,s){return a("move")}createTensorFromGPUData(e,t,n){return a("createTensorFromGPUData")}memory(){return a("memory")}floatPrecision(){return a("floatPrecision")}epsilon(){return 32===this.floatPrecision()?1e-7:1e-4}dispose(){return a("dispose")}}function a(e){throw new Error(`'${e}' not yet implemented or not found in the registry. This kernel may not be supported by the tfjs backend you have chosen`)}},8360:(e,t,n)=>{function r(e,t,n){const r=function(e,t,n){return function(e,t,n){let r=0,s=e.length,a=0,o=!1;for(;r<s;){a=r+(s-r>>>1);const i=n(t,e[a]);i>0?r=a+1:(s=a,o=!i)}return o?r:-r-1}(e,t,n||s)}(e,t,n),a=r<0?-(r+1):r;e.splice(a,0,t)}function s(e,t){return e>t?1:e<t?-1:0}function a(e,t,n,r,s){return l(e,t,n,r,s,0)}function o(e,t,n,r,s,a){return l(e,t,n,r,s,0,!1,a,!0)}function i(e,t,n,r,s,a){return l(e,t,n,r,s,a,!0)}function l(e,t,n,s,a,o,i=!1,l=!1,h=!1){const p=[];for(let e=0;e<t.length;e++)t[e]>a&&p.push({score:t[e],boxIndex:e,suppressBeginIndex:0});p.sort(u);const g=o>0?-.5/o:0,f=[],m=[];for(;f.length<n&&p.length>0;){const t=p.pop(),{score:n,boxIndex:o,suppressBeginIndex:i}=t;if(n<a)break;let l=!1;for(let n=f.length-1;n>=i;--n){const r=c(e,o,f[n]);if(r>=s){l=!0;break}if(t.score=t.score*d(s,g,r),t.score<=a)break}t.suppressBeginIndex=f.length,l||(t.score===n?(f.push(o),m.push(t.score)):t.score>a&&r(p,t,u))}const y=f.length,w=n-y;l&&w>0&&(f.push(...new Array(w).fill(0)),m.push(...new Array(w).fill(0)));const v={selectedIndices:f};return i&&(v.selectedScores=m),h&&(v.validOutputs=y),v}function c(e,t,n){const r=e.subarray(4*t,4*t+4),s=e.subarray(4*n,4*n+4),a=Math.min(r[0],r[2]),o=Math.min(r[1],r[3]),i=Math.max(r[0],r[2]),l=Math.max(r[1],r[3]),c=Math.min(s[0],s[2]),d=Math.min(s[1],s[3]),u=Math.max(s[0],s[2]),h=Math.max(s[1],s[3]),p=(i-a)*(l-o),g=(u-c)*(h-d);if(p<=0||g<=0)return 0;const f=Math.max(a,c),m=Math.max(o,d),y=Math.min(i,u),w=Math.min(l,h),v=Math.max(y-f,0)*Math.max(w-m,0);return v/(p+g-v)}function d(e,t,n){const r=Math.exp(t*n*n);return n<=e?r:0}function u(e,t){return e.score-t.score||e.score===t.score&&t.boxIndex-e.boxIndex}n.d(t,{c7:()=>a,ZS:()=>o,ut:()=>i})},54411:(e,t,n)=>{n.d(t,{Y:()=>s});var r=n(448);function s(e,t){const n=[];for(let e=0;e<t.length;e++)t[e]&&n.push(e);const s=(0,r.r)(e,"int32"),a=(0,r.r)([n.length,e.length],"int32");for(let t=0;t<n.length;t++){const r=s.indexToLoc(n[t]),o=t*e.length;a.values.set(r,o)}return a.toTensor()}},88580:(e,t,n)=>{let r;function s(e){r=e}function a(e){if(void 0!==r)return r;if(e||"undefined"!=typeof navigator&&null!=navigator){if(e||(e=navigator),"ReactNative"===e.product)return!0;const t=e.userAgent||e.vendor||("undefined"!=typeof window?window.opera:"");if(!t){const t=e;return t.userAgentData&&t.userAgentData.mobile}return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))}return!1}function o(){return"undefined"!=typeof window&&null!=window.document||"undefined"!=typeof WorkerGlobalScope}n.r(t),n.d(t,{isBrowser:()=>o,isMobile:()=>a,mockIsMobile:()=>s})},67897:(e,t,n)=>{n.d(t,{T2:()=>v,Ye:()=>w});var r=n(15149),s=n(46574),a=n(41743),o=n(15441),i=n(37074),l=n(73673),c=n(41466),d=n(37427),u=n(50259),h=n(30565),p=n(45119),g=n(89783);function f(e){return null!=e.kernelName}class m{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map((e=>e.name))))}}}dispose(){for(const e in this.registeredVariables)this.registeredVariables[e].dispose()}}class y{constructor(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new m}async ready(){if(null!=this.pendingBackendInit)return this.pendingBackendInit.then((()=>{}));if(null!=this.backendInstance)return;const e=this.getSortedBackends();for(let t=0;t<e.length;t++){const n=e[t];if(await this.initializeBackend(n).success)return void await this.setBackend(n)}throw new Error("Could not initialize any backends, all backend initializations failed.")}get backend(){if(null!=this.pendingBackendInit)throw new Error(`Backend '${this.backendName}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);if(null==this.backendInstance){const{name:e,asyncInit:t}=this.initializeBackendsAndReturnBest();if(t)throw new Error(`The highest priority backend '${e}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);this.setBackend(e)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(e){if(!(e in this.registry)){if(!(e in this.registryFactory))return null;{const{asyncInit:t}=this.initializeBackend(e);if(t)return null}}return this.registry[e]}findBackendFactory(e){return e in this.registryFactory?this.registryFactory[e].factory:null}registerBackend(e,t,n=1){return e in this.registryFactory?(l.i(`${e} backend was already registered. Reusing existing backend factory.`),!1):(this.registryFactory[e]={factory:t,priority:n},!0)}async setBackend(e){if(null==this.registryFactory[e])throw new Error(`Backend name '${e}' not found in registry`);if(this.backendName=e,null==this.registry[e]){this.backendInstance=null;const{success:t,asyncInit:n}=this.initializeBackend(e);if(!(n?await t:t))return!1}return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new c.UD(this.backendInstance),!0}setupRegisteredKernels(){(0,i.Op)(this.backendName).forEach((e=>{null!=e.setupFunc&&e.setupFunc(this.backendInstance)}))}disposeRegisteredKernels(e){(0,i.Op)(e).forEach((t=>{null!=t.disposeFunc&&t.disposeFunc(this.registry[e])}))}initializeBackend(e){const t=this.registryFactory[e];if(null==t)throw new Error(`Cannot initialize backend ${e}, no registration found.`);try{const n=t.factory();if(!n||n instanceof r.uI||"function"!=typeof n.then)return this.registry[e]=n,{success:!0,asyncInit:!1};{const t=++this.pendingBackendInitId,r=n.then((n=>!(t<this.pendingBackendInitId||(this.registry[e]=n,this.pendingBackendInit=null,0)))).catch((n=>(t<this.pendingBackendInitId||(this.pendingBackendInit=null,l.i(`Initialization of backend ${e} failed`),l.i(n.stack||n.message)),!1)));return this.pendingBackendInit=r,{success:r,asyncInit:!0}}}catch(t){return l.i(`Initialization of backend ${e} failed`),l.i(t.stack||t.message),{success:!1,asyncInit:!1}}}removeBackend(e){if(!(e in this.registryFactory))throw new Error(`${e} backend not found in registry`);this.backendName===e&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(0===Object.keys(this.registryFactory).length)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort(((e,t)=>this.registryFactory[t].priority-this.registryFactory[e].priority))}initializeBackendsAndReturnBest(){const e=this.getSortedBackends();for(let t=0;t<e.length;t++){const n=e[t],{success:r,asyncInit:s}=this.initializeBackend(n);if(s||r)return{name:n,asyncInit:s}}throw new Error("Could not initialize any backends, all backend initializations failed.")}moveData(e,t){const n=this.state.tensorInfo.get(t),r=n.backend,s=this.readSync(t),a=r.refCount(t);r.disposeData(t,!0),n.backend=e,e.move(t,s,n.shape,n.dtype,a),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(e,t){let n,r=null;if(null==t){if("function"!=typeof e)throw new Error("Please provide a function to tidy()");t=e}else{if("string"!=typeof e&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!=typeof t)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");r=e}return this.scopedRun((()=>this.startScope(r)),(()=>this.endScope(n)),(()=>(n=t(),n instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),n)))}scopedRun(e,t,n){e();try{const e=n();return t(),e}catch(e){throw t(),e}}nextTensorId(){return y.nextTensorId++}nextVariableId(){return y.nextVariableId++}clone(e){const t=v.runKernel(o.lzr,{x:e}),n={x:e};return this.addTapeNode(this.state.activeScope.name,n,[t],(e=>({x:()=>{const t={x:e};return v.runKernel(o.KXH,t,{dtype:"float32"})}})),[],{}),t}runKernel(e,t,n){if(null==this.backendName&&this.backend,null==(0,i._5)(e,this.backendName))throw new Error(`Kernel '${e}' not registered for backend '${this.backendName}'`);return this.runKernelFunc({kernelName:e,inputs:t,attrs:n})}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(e,t,n){const r=this.backend.numDataIds();let s=0;n.forEach((e=>{s+="complex64"===e.dtype?3:1}));const a=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],o=r-t-s-a;if(o>0)throw new Error(`Backend '${this.backendName}' has an internal memory leak (${o} data ids) after running '${e}'`)}runKernelFunc(e){let t,n=[];const r=this.isTapeOn(),s=this.state.numBytes,a=this.state.numTensors;let o,l;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0),null==this.backendName&&this.backend;const c=f(e)?e.kernelName:null!=this.state.activeScope?this.state.activeScope.name:"";if(f(e)){const{kernelName:t,inputs:s,attrs:a}=e;null==this.backendName&&this.backend;const c=(0,i._5)(t,this.backendName);p.vA(null!=c,(()=>`Cannot find registered kernel '${t}' for backend '${this.backendName}'`)),o=()=>{const e=this.backend.numDataIds();l=c.kernelFunc({inputs:s,attrs:a,backend:this.backend});const o=Array.isArray(l)?l:[l];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(t,e,o);const i=o.map((e=>null!=e.rank?e:this.makeTensorFromTensorInfo(e)));if(r){const e=this.getTensorsForGradient(t,s,i);n=this.saveTensorsForBackwardMode(e)}return i}}else{const{forwardFunc:t}=e,s=e=>{r&&(n=e.map((e=>this.keep(this.clone(e)))))};o=()=>{const e=this.backend.numDataIds();l=this.tidy((()=>t(this.backend,s)));const n=Array.isArray(l)?l:[l];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(c,e,n),n}}const{inputs:d,attrs:u}=e,h=f(e)?null:e.backwardsFunc;let g;return this.scopedRun((()=>this.state.kernelDepth++),(()=>this.state.kernelDepth--),(()=>{this.ENV.getBool("DEBUG")||this.state.profiling?(g=this.profiler.profileKernel(c,d,(()=>o())),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(g),t=g.outputs):t=o()})),r&&this.addTapeNode(c,d,t,h,n,u),this.state.profiling&&this.state.activeProfile.kernels.push({name:c,bytesAdded:this.state.numBytes-s,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-a,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(d).map((e=>null!=d[e]?d[e].shape:null)),outputShapes:t.map((e=>e.shape)),kernelTimeMs:g.timeMs,extraInfo:g.extraInfo}),Array.isArray(l)?t:t[0]}saveTensorsForBackwardMode(e){return e.map((e=>this.keep(this.clone(e))))}getTensorsForGradient(e,t,n){const r=(0,i.vQ)(e);if(null!=r){const e=r.inputsToSave||[],s=r.outputsToSave||[];let a;r.saveAllInputs?(p.vA(Array.isArray(t),(()=>"saveAllInputs is true, expected inputs to be an array.")),a=Object.keys(t).map((e=>t[e]))):a=e.map((e=>t[e]));const o=n.filter(((e,t)=>s[t]));return a.concat(o)}return[]}makeTensor(e,t,n,r){if(null==e)throw new Error("Values passed to engine.makeTensor() are null");n=n||"float32",r=r||this.backend;let s=e;"string"===n&&p.Kg(e[0])&&(s=e.map((e=>g.encodeString(e))));const a=r.write(s,t,n),o=new u.qY(t,n,a,this.nextTensorId());if(this.trackTensor(o,r),"string"===n){const e=this.state.tensorInfo.get(a),t=(0,p.SL)(s);this.state.numBytes+=t-e.bytes,e.bytes=t}return o}makeTensorFromDataId(e,t,n,r){const s={dataId:e,shape:t,dtype:n=n||"float32"};return this.makeTensorFromTensorInfo(s,r)}makeTensorFromTensorInfo(e,t){const{dataId:n,shape:r,dtype:s}=e,a=new u.qY(r,s,n,this.nextTensorId());return this.trackTensor(a,t),a}makeVariable(e,t=!0,n,r){n=n||this.nextVariableId().toString(),null!=r&&r!==e.dtype&&(e=e.cast(r));const s=new u.rT(e,t,n,this.nextTensorId());if(null!=this.state.registeredVariables[s.name])throw new Error(`Variable with name ${s.name} was already registered`);return this.state.registeredVariables[s.name]=s,this.incRef(s,this.backend),s}trackTensor(e,t){this.state.numTensors++,"string"===e.dtype&&this.state.numStringTensors++;let n=0;"complex64"!==e.dtype&&"string"!==e.dtype&&(n=e.size*p.jv(e.dtype)),this.state.numBytes+=n,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:t||this.backend,dtype:e.dtype,shape:e.shape,bytes:n})),e instanceof u.rT||this.track(e)}incRef(e,t){this.trackTensor(e,t),this.backend.incRef(e.dataId)}removeDataId(e,t){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===t&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}disposeTensor(e){if(!this.state.tensorInfo.has(e.dataId))return;const t=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,"string"===e.dtype&&(this.state.numStringTensors--,this.state.numBytes-=t.bytes),"complex64"!==e.dtype&&"string"!==e.dtype){const t=e.size*p.jv(e.dtype);this.state.numBytes-=t}t.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,t.backend)}disposeVariables(){for(const e in this.state.registeredVariables){const t=this.state.registeredVariables[e];this.disposeVariable(t)}}disposeVariable(e){this.disposeTensor(e),null!=this.state.registeredVariables[e.name]&&delete this.state.registeredVariables[e.name]}memory(){const e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,null==e.reasons&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}async profile(e){this.state.profiling=!0;const t=this.state.numBytes,n=this.state.numTensors;this.state.activeProfile.kernels=[],this.state.activeProfile.result=await e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max(...this.state.activeProfile.kernels.map((e=>e.totalBytesSnapshot))),this.state.activeProfile.newBytes=this.state.numBytes-t,this.state.activeProfile.newTensors=this.state.numTensors-n;for(const e of this.state.activeProfile.kernels)e.kernelTimeMs=await e.kernelTimeMs,e.extraInfo=await e.extraInfo;return this.state.activeProfile}isTapeOn(){return this.state.gradientDepth>0&&0===this.state.kernelDepth}addTapeNode(e,t,n,r,s,a){const o={id:this.state.nextTapeNodeId++,kernelName:e,inputs:t,outputs:n,saved:s},l=(0,i.vQ)(e);null!=l&&(r=l.gradFunc),null!=r&&(o.gradient=e=>(e=e.map(((e,t)=>{if(null==e){const e=n[t],r=p.Ty(e.size,e.dtype);return this.makeTensor(r,e.shape,e.dtype)}return e})),r(e.length>1?e:e[0],s,a))),this.state.activeTape.push(o)}keep(e){return e.kept=!0,e}startTape(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(e){const t={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(t.name=e),this.state.scopeStack.push(t),this.state.activeScope=t}endScope(e){const t=(0,h.NB)(e),n=new Set(t.map((e=>e.id)));for(let e=0;e<this.state.activeScope.track.length;e++){const t=this.state.activeScope.track[e];t.kept||n.has(t.id)||t.dispose()}const r=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],t.forEach((e=>{e.kept||e.scopeId!==r.id||this.track(e)}))}gradients(e,t,n,r=!1){if(p.vA(t.length>0,(()=>"gradients() received an empty list of xs.")),null!=n&&"float32"!==n.dtype)throw new Error(`dy must have 'float32' dtype, but has '${n.dtype}'`);const s=this.scopedRun((()=>this.startTape()),(()=>this.endTape()),(()=>this.tidy("forward",e)));p.vA(s instanceof u.qY,(()=>"The result y returned by f() must be a tensor."));const a=(0,d.p)(this.state.activeTape,t,s);if(!r&&0===a.length&&t.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",(()=>{const e={};e[s.id]=null==n?function(e){const t=(0,p.FZ)((0,p.Ze)(e),"float32");return v.makeTensor(t,e,"float32")}(s.shape):n,(0,d.a)(e,a,(e=>this.tidy(e)),k);const r=t.map((t=>e[t.id]));return 0===this.state.gradientDepth&&(this.state.activeTape.forEach((e=>{for(const t of e.saved)t.dispose()})),this.state.activeTape=null),{value:s,grads:r}}))}customGrad(e){return p.vA(p.Tn(e),(()=>"The f passed in customGrad(f) must be a function.")),(...t)=>{let n;p.vA(t.every((e=>e instanceof u.qY)),(()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors"));const r={};return t.forEach(((e,t)=>{r[t]=e})),this.runKernelFunc({forwardFunc:(r,s)=>(n=e(...t,s),p.vA(n.value instanceof u.qY,(()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor")),p.vA(p.Tn(n.gradFunc),(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function.")),n.value),backwardsFunc:(e,r)=>{const s=n.gradFunc(e,r),a=Array.isArray(s)?s:[s];p.vA(a.length===t.length,(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...).")),p.vA(a.every((e=>e instanceof u.qY)),(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."));const o={};return a.forEach(((e,t)=>{o[t]=()=>e})),o},inputs:r})}}readSync(e){return this.state.tensorInfo.get(e).backend.readSync(e)}read(e){return this.state.tensorInfo.get(e).backend.read(e)}readToGPU(e,t){return this.state.tensorInfo.get(e).backend.readToGPU(e,t)}async time(e){const t=(0,g.now)(),n=await this.backend.time(e);return n.wallMs=(0,g.now)()-t,n}track(e){return null!=this.state.activeScope&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new m;for(const e in this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}function w(){const e=(0,a.L)();if(null==e._tfengine){const t=new s.OH(e);e._tfengine=new y(t)}return(0,s.tj)(e._tfengine.ENV),(0,u.qP)((()=>e._tfengine)),e._tfengine}y.nextTensorId=0,y.nextVariableId=0;const v=w();function k(e,t){const n={a:e,b:t};return v.runKernel(o.OMN,n)}},46574:(e,t,n)=>{n.d(t,{OH:()=>a,_K:()=>i,tj:()=>c});var r=n(45119);const s="tfjsflags";class a{constructor(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=o,this.populateURLFlags()}setPlatform(e,t){null!=this.platform&&(i().getBool("IS_TEST")||i().getBool("PROD")||console.warn(`Platform ${this.platformName} has already been set. Overwriting the platform with ${e}.`)),this.platformName=e,this.platform=t}registerFlag(e,t,n){if(this.flagRegistry[e]={evaluationFn:t,setHook:n},null!=this.urlFlags[e]){const t=this.urlFlags[e];i().getBool("IS_TEST")||i().getBool("PROD")||console.warn(`Setting feature override from URL ${e}: ${t}.`),this.set(e,t)}}async getAsync(e){return e in this.flags||(this.flags[e]=await this.evaluateFlag(e)),this.flags[e]}get(e){if(e in this.flags)return this.flags[e];const t=this.evaluateFlag(e);if((0,r.yL)(t))throw new Error(`Flag ${e} cannot be synchronously evaluated. Please use getAsync() instead.`);return this.flags[e]=t,this.flags[e]}getNumber(e){return this.get(e)}getBool(e){return this.get(e)}getFlags(){return this.flags}get features(){return this.flags}set(e,t){if(null==this.flagRegistry[e])throw new Error(`Cannot set flag ${e} as it has not been registered.`);this.flags[e]=t,null!=this.flagRegistry[e].setHook&&this.flagRegistry[e].setHook(t)}evaluateFlag(e){if(null==this.flagRegistry[e])throw new Error(`Cannot evaluate flag '${e}': no evaluation function found.`);return this.flagRegistry[e].evaluationFn()}setFlags(e){this.flags=Object.assign({},e)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if(void 0===this.global||void 0===this.global.location||void 0===this.global.location.search)return;const e=this.getQueryParams(this.global.location.search);s in e&&e[s].split(",").forEach((e=>{const[t,n]=e.split(":");this.urlFlags[t]=function(e,t){if("true"===(t=t.toLowerCase())||"false"===t)return"true"===t;if(""+ +t===t)return+t;throw new Error(`Could not parse value flag value ${t} for flag ${e}.`)}(t,n)}))}}function o(e){const t={};return e.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,((e,...n)=>(function(e,t,n){e[decodeURIComponent(t)]=decodeURIComponent(n||"")}(t,n[0],n[1]),n.join("=")))),t}function i(){return l}let l=null;function c(e){l=e}},66652:(e,t,n)=>{n(67897);var r=n(88580);const s=(0,n(46574)._K)();s.registerFlag("DEBUG",(()=>!1),(e=>{e&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")})),s.registerFlag("IS_BROWSER",(()=>r.isBrowser())),s.registerFlag("IS_NODE",(()=>"undefined"!=typeof process&&void 0!==process.versions&&void 0!==process.versions.node)),s.registerFlag("IS_CHROME",(()=>"undefined"!=typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor))),s.registerFlag("PROD",(()=>!1)),s.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",(()=>s.getBool("DEBUG"))),s.registerFlag("DEPRECATION_WARNINGS_ENABLED",(()=>!0)),s.registerFlag("IS_TEST",(()=>!1)),s.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",(()=>!0)),s.registerFlag("WRAP_TO_IMAGEBITMAP",(()=>!1)),s.registerFlag("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU",(()=>!1)),s.registerFlag("USE_SETTIMEOUTCUSTOM",(()=>!1))},41743:(e,t,n)=>{let r;function s(){if(null==r){let e;if("undefined"!=typeof window)e=window;else if(void 0!==n.g)e=n.g;else if("undefined"!=typeof process)e=process;else{if("undefined"==typeof self)throw new Error("Could not find a global object");e=self}r=e}return r}function a(e,t){const n=function(){const e=s();return null==e._tfGlobals&&(e._tfGlobals=new Map),e._tfGlobals}();if(n.has(e))return n.get(e);{const r=t();return n.set(e,r),n.get(e)}}n.d(t,{L:()=>s,m:()=>a})},35287:(e,t,n)=>{n.d(t,{AS:()=>d,DZ:()=>c,Hi:()=>i,Hs:()=>g,aC:()=>u,gJ:()=>p,jz:()=>h,m1:()=>l});var r=n(67897),s=n(46574),a=n(50259),o=n(30565);function i(){return r.T2}function l(){return r.T2.memory()}function c(e,t){return r.T2.tidy(e,t)}function d(e){(0,o.NB)(e).forEach((e=>e.dispose()))}function u(e){return r.T2.keep(e)}function h(){return r.T2.backendName}function p(e,t,n=1){return r.T2.registerBackend(e,t,n)}function g(){return r.T2.backend}(0,a.B4)((function(e){(0,s._K)().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(e+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}))},31830:(e,t,n)=>{n.d(t,{_X:()=>i,y7:()=>o});var r=n(67897),s=n(50259),a=n(45119);function o(e,t){a.vA(a.Tn(e),(()=>"The f passed in variableGrads(f) must be a function")),a.vA(null==t||Array.isArray(t)&&t.every((e=>e instanceof s.rT)),(()=>"The varList passed in variableGrads(f, varList) must be an array of variables"));const n=null!=t;if(!n){t=[];for(const e in r.T2.registeredVariables)t.push(r.T2.registeredVariables[e])}const o=n?t.filter((e=>!e.trainable)):null,i=t.length;t=t.filter((e=>e.trainable)),a.vA(t.length>0,(()=>`variableGrads() expects at least one of the input variables to be trainable, but none of the ${i} variables is trainable.`));const{value:l,grads:c}=r.T2.gradients(e,t,null,!0);a.vA(c.some((e=>null!=e)),(()=>"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize().")),a.vA(0===l.rank,(()=>`The f passed in variableGrads(f) must return a scalar, but it returned a rank-${l.rank} tensor`));const d={};return t.forEach(((e,t)=>{null!=c[t]&&(d[e.name]=c[t])})),null!=o&&o.forEach((e=>d[e.name]=null)),{value:l,grads:d}}function i(e){return r.T2.customGrad(e)}},83320:(e,t,n)=>{n.d(t,{B:()=>i});var r=n(15441),s=n(29809),a=n(9258),o=n(10700);const i={kernelName:r.ljI,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,a.l)(e,(0,o.P)((0,s.w)(n,"float32"),-1))}}}},72750:(e,t,n)=>{n.d(t,{l:()=>u});var r=n(15441),s=n(29809),a=n(89359),o=n(96522),i=n(45702),l=n(79348),c=n(45793),d=n(77126);const u={kernelName:r.Vvy,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const t=(0,c.E)((0,s.w)(n,"float32")),r=(0,l.R)((0,d.j)((0,i.d)(1),t));return(0,o.H)((0,a.y)(e,r))}}}}},76070:(e,t,n)=>{n.d(t,{h:()=>c});var r=n(15441),s=n(29809),a=n(89359),o=n(79348),i=n(45793),l=n(77126);const c={kernelName:r.PH8,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const t=(0,o.R)((0,l.j)((0,i.E)((0,s.w)(n,"float32")),1));return(0,a.y)(e,t)}}}}},35373:(e,t,n)=>{n.d(t,{y:()=>r});const r={kernelName:n(15441).EkD,saveAllInputs:!0,gradFunc:(e,t)=>{const n={};return t.forEach(((t,r)=>{n[r]=()=>e.clone()})),n}}},92249:(e,t,n)=>{n.d(t,{Y:()=>i});var r=n(15441),s=n(62198),a=n(62302),o=n(83791);const i={kernelName:r.OMN,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,i=s.assertAndGetBroadcastShape(n.shape,r.shape);return{a:()=>{let t=e;const r=s.getReductionAxes(n.shape,i);return r.length>0&&(t=(0,o.c)(t,r)),(0,a.t)(t,n.shape)},b:()=>{let t=e;const n=s.getReductionAxes(r.shape,i);return n.length>0&&(t=(0,o.c)(t,n)),(0,a.t)(t,r.shape)}}}}},50842:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(15441),s=n(55537);const a={kernelName:r.Jp_,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,s.P)(n)}}}},96472:(e,t,n)=>{n.d(t,{l:()=>a});var r=n(15441),s=n(55537);const a={kernelName:r.p_m,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,s.P)(n)}}}},39569:(e,t,n)=>{n.d(t,{_:()=>d});var r=n(15441),s=n(29809),a=n(89359),o=n(45702),i=n(79348),l=n(45793),c=n(77126);const d={kernelName:r.QKF,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,a.y)(e,(0,i.R)((0,c.j)((0,o.d)(1),(0,l.E)((0,s.w)(n,"float32")))))}}}},23231:(e,t,n)=>{n.d(t,{O:()=>d});var r=n(15441),s=n(37523),a=n(29809),o=n(89359),i=n(45702),l=n(79348),c=n(45793);const d={kernelName:r.epO,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const t=(0,l.R)((0,s.W)((0,i.d)(1),(0,c.E)((0,a.w)(n,"float32"))));return(0,o.y)(e,t)}}}}},73276:(e,t,n)=>{n.d(t,{B:()=>h});var r=n(15441),s=n(37523),a=n(62198),o=n(89359),i=n(9258),l=n(96522),c=n(62302),d=n(45793),u=n(83791);const h={kernelName:r.lxb,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,h=(0,a.assertAndGetBroadcastShape)(n.shape,r.shape);return{a:()=>{const t=(0,s.W)((0,d.E)(n),(0,d.E)(r));let l=(0,i.l)(e,(0,o.y)(r,t));const p=(0,a.getReductionAxes)(n.shape,h);return p.length>0&&(l=(0,u.c)(l,p)),(0,c.t)(l,n.shape)},b:()=>{const t=(0,s.W)((0,d.E)(n),(0,d.E)(r));let p=(0,l.H)((0,i.l)(e,(0,o.y)(n,t)));const g=(0,a.getReductionAxes)(r.shape,h);return g.length>0&&(p=(0,u.c)(p,g)),(0,c.t)(p,r.shape)}}}}},33962:(e,t,n)=>{n.d(t,{z:()=>l});var r=n(15441),s=n(37523),a=n(29809),o=n(89359),i=n(45793);const l={kernelName:r.TyE,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,o.y)(e,(0,s.W)((0,i.E)((0,a.w)(n,"float32")),1))}}}},59722:(e,t,n)=>{n.d(t,{n:()=>c});var r=n(15441),s=n(29809),a=n(89359),o=n(45793),i=n(77126),l=n(45702);const c={kernelName:r.zP9,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,a.y)(e,(0,i.j)((0,l.d)(1),(0,o.E)((0,s.w)(n,"float32"))))}}}},45079:(e,t,n)=>{n.d(t,{m:()=>a});var r=n(15441),s=n(47850);const a={kernelName:r.cS,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{filterSize:a,strides:o,pad:i,dimRoundingMode:l}=n;return{x:()=>(0,s.k)(e,r,a,o,i,l)}}}},20570:(e,t,n)=>{n.d(t,{$:()=>a});var r=n(15441),s=n(27160);const a={kernelName:r.ho8,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{filterSize:a,strides:o,pad:i}=n;return{x:()=>(0,s.$)(e,r,a,o,i)}}}},78172:(e,t,n)=>{n.d(t,{v:()=>a});var r=n(15441),s=n(65703);const a={kernelName:r.jAQ,inputsToSave:["a","b"],gradFunc:(e,t,n)=>{const[r,a]=t,{transposeA:o,transposeB:i}=n;return o||i?!o&&i?{a:()=>(0,s.N)(e,a,!1,!1),b:()=>(0,s.N)(e,r,!0,!1)}:o&&!i?{a:()=>(0,s.N)(a,e,!1,!0),b:()=>(0,s.N)(r,e,!1,!1)}:{a:()=>(0,s.N)(a,e,!0,!0),b:()=>(0,s.N)(e,r,!0,!0)}:{a:()=>(0,s.N)(e,a,!1,!0),b:()=>(0,s.N)(r,e,!0,!1)}}}},15389:(e,t,n)=>{n.d(t,{I:()=>a});var r=n(15441),s=n(10776);const a={kernelName:r.Ik2,gradFunc:(e,t,n)=>{const{blockShape:r,crops:a}=n;return{x:()=>(0,s.e)(e,r,a)}}}},76682:(e,t,n)=>{n.d(t,{X:()=>a});var r=n(15441),s=n(83791);const a={kernelName:r.LB5,gradFunc:(e,t,n)=>{const r=n,a=r.inputShape,o=r.shape,i=Array.from(o);for(let e=a.length-1;e>=0;e--)if(a[e]===o[e])i[e]=1;else if(1!==a[e])throw new Error(`broadcastTo(): [${a}] cannot be broadcast to [${o}].`);const l=[];for(let e=0;e<i.length;e++)i[e]>1&&l.push(e);return{x:()=>(0,s.c)(e,l,!0)}}}},33665:(e,t,n)=>{n.d(t,{Q:()=>r});const r={kernelName:n(15441).KXH,gradFunc:e=>({x:()=>e.clone()})}},20099:(e,t,n)=>{n.d(t,{C:()=>a});var r=n(15441),s=n(55537);const a={kernelName:r.QDP,gradFunc:e=>({x:()=>(0,s.P)(e)})}},83952:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(15441),s=n(13337),a=n(56508),o=n(13789),i=n(12151),l=n(55537);const c={kernelName:r.vaV,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{clipValueMin:c,clipValueMax:d}=n;return{x:()=>(0,i._)((0,o.n)((0,s.D)(r,c),(0,a.I)(r,d)),e,(0,l.P)(e))}}}},65872:(e,t,n)=>{n.d(t,{N:()=>a});var r=n(15441),s=n(83320);const a={kernelName:r.$zE,inputsToSave:["x"],gradFunc:s.B.gradFunc}},26012:(e,t,n)=>{n.d(t,{N:()=>o});var r=n(15441),s=n(66512),a=n(45119);const o={kernelName:r.$dB,saveAllInputs:!0,gradFunc:(e,t,n)=>{const r=t.map((e=>e.shape)),{axis:o}=n,i=(0,a.Y6)(o,t[0].shape)[0],l=r.map((e=>e[i]));return(0,s.l)(e,l,i).map((e=>()=>e))}}},17258:(e,t,n)=>{n.d(t,{R:()=>o});var r=n(15441),s=n(28794),a=n(25248);const o={kernelName:r.jfg,inputsToSave:["dy","filter"],gradFunc:(e,t,n)=>{const[r,o]=t,{strides:i,pad:l,dataFormat:c,dimRoundingMode:d}=n;return{dy:()=>(0,s.X)(e,o,i,l,c,1,d),filter:()=>(0,a.H)(e,r,o.shape,i,l,c,d)}}}},48144:(e,t,n)=>{n.d(t,{J:()=>l});var r=n(15441),s=n(25248),a=n(80252),o=n(47195),i=n(45119);const l={kernelName:r.p2J,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const[r,l]=t,{dilations:c,strides:d,pad:u,dataFormat:h}=n;return i.vA(o.Dh(c),(()=>`Error in gradient of conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${c}'`)),{x:()=>(0,a.v)(r.shape,e,l,d,u,h),filter:()=>(0,s.H)(r,e,l.shape,d,u,h)}}}},51099:(e,t,n)=>{n.d(t,{Y:()=>l});var r=n(15441),s=n(65281),a=n(31895),o=n(47195),i=n(45119);const l={kernelName:r.A1h,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const{dilations:r,strides:l,pad:c}=n;i.vA((0,o.Dh)(r),(()=>`Error in gradient of conv3D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${r}'`));const[d,u]=t;return{x:()=>(0,a.c)(d.shape,e,u,l,c),filter:()=>(0,s._)(d,e,u.shape,l,c)}}}},60685:(e,t,n)=>{n.d(t,{g:()=>l});var r=n(15441),s=n(29809),a=n(9258),o=n(96522),i=n(33726);const l={kernelName:r.Mn0,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,a.l)((0,o.H)((0,i.F)((0,s.w)(n,"float32"))),e)}}}},34451:(e,t,n)=>{n.d(t,{M:()=>i});var r=n(15441),s=n(29809),a=n(9258),o=n(58276);const i={kernelName:r.MnK,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,a.l)((0,o.L)((0,s.w)(n,"float32")),e)}}}},78158:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(15441),s=n(21078),a=n(76808),o=n(7703);const i={kernelName:r.nY8,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{axis:i,exclusive:l,reverse:c}=n;return{x:()=>{const t=(0,s.Em)([i],r.rank);let n=(0,a.r)(e,i,l,!c);return null!=t&&(n=(0,o.m)(n,t)),n}}}}},62366:(e,t,n)=>{n.d(t,{z:()=>l});var r=n(15441),s=n(47195),a=n(41890),o=n(83134),i=n(45119);const l={kernelName:r.tGH,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const{dilations:r,strides:l,pad:c,dimRoundingMode:d}=n,u=null==r?[1,1]:r;i.vA(s.Dh(u),(()=>`Error in gradient of depthwiseConv2dNative: dilation rates greater than 1 are not yet supported. Got dilations '${u}'`));const[h,p]=t;return i.vA(4===h.rank,(()=>`Error in gradient of depthwiseConv2dNative: input must be rank 4, but got rank ${h.rank}.`)),i.vA(4===p.rank,(()=>`Error in gradient of depthwiseConv2dNative: filter must be rank 4, but got rank ${p.rank}.`)),i.vA(h.shape[3]===p.shape[2],(()=>`Error in gradient of depthwiseConv2d: number of input channels (${h.shape[3]}) must match the inChannels dimension in filter ${p.shape[2]}.`)),i.vA(s.G0(l,u),(()=>`Error in gradient of depthwiseConv2d: Either strides or dilations must be  1. Got strides ${l} and dilations '${u}'.`)),s.s_("depthwiseConv2d",c,d),{x:()=>(0,o.l)(h.shape,e,p,l,c,u,d),filter:()=>(0,a.x)(h,e,p.shape,l,c,u,d)}}}},68084:(e,t,n)=>{n.d(t,{v:()=>a});var r=n(67897),s=n(15441);const a={kernelName:s.jxD,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const[a,o]=t,i={x:a,filter:o,dy:e},l={x:a,filter:o,dy:e};return{x:()=>r.T2.runKernel(s.bP9,i,n),filter:()=>r.T2.runKernel(s.pk0,l,n)}}}},96916:(e,t,n)=>{n.d(t,{x:()=>a});var r=n(67897),s=n(15441);const a={kernelName:s.Pah,outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t,a={dy:e,y:n};return{x:()=>r.T2.runKernel(s.rsH,a)}}}},17641:(e,t,n)=>{n.d(t,{S:()=>l});var r=n(15441),s=n(8631),a=n(9258),o=n(96522),i=n(45793);const l={kernelName:r._s9,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t,r=(0,a.l)((0,s.o)((0,o.H)((0,i.E)(n))),2/Math.sqrt(Math.PI));return{x:()=>(0,a.l)(e,r)}}}},88861:(e,t,n)=>{n.d(t,{k:()=>a});var r=n(15441),s=n(9258);const a={kernelName:r.ox3,outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,s.l)(e,n)}}}},16633:(e,t,n)=>{n.d(t,{y:()=>a});var r=n(15441),s=n(62302);const a={kernelName:r.ybN,inputsToSave:["input"],gradFunc:(e,t)=>{const[n]=t;return{input:()=>(0,s.t)(e,n.shape)}}}},86431:(e,t,n)=>{n.d(t,{a:()=>o});var r=n(15441),s=n(8631),a=n(9258);const o={kernelName:r.ybj,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,a.l)(e,(0,s.o)(n))}}}},25131:(e,t,n)=>{n.d(t,{S:()=>h});var r=n(15441),s=n(62198),a=n(29809),o=n(89359),i=n(9258),l=n(96522),c=n(62302),d=n(45793),u=n(83791);const h={kernelName:r.ElG,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,h=(0,s.assertAndGetBroadcastShape)(n.shape,r.shape);return{a:()=>{const t=(0,o.y)(e,(0,a.w)(r,"float32")),i=(0,s.getReductionAxes)(n.shape,h);return i.length>0?(0,c.t)((0,u.c)(t,i),n.shape):t},b:()=>{let t=(0,i.l)(e,(0,a.w)(n,"float32"));const p=(0,s.getReductionAxes)(r.shape,h);p.length>0&&(t=(0,c.t)((0,u.c)(t,p),r.shape));const g=(0,d.E)(r);return(0,l.H)((0,o.y)(t,(0,a.w)(g,"float32")))}}}}},57826:(e,t,n)=>{n.d(t,{n:()=>a});var r=n(15441),s=n(55537);const a={kernelName:r.ZgB,gradFunc:e=>({x:()=>(0,s.P)(e)})}},3173:(e,t,n)=>{n.d(t,{E:()=>p});var r=n(15441),s=n(37523),a=n(62198),o=n(9258),i=n(62302),l=n(17820),c=n(45702),d=n(77126),u=n(83791),h=n(64826);const p={kernelName:r.i5R,inputsToSave:["x","mean","variance","scale"],gradFunc:(e,t,n)=>{const{varianceEpsilon:r}=n,[p,g,f,m]=t,y=null==m?(0,c.d)(1):m,w=(0,a.getReductionAxes)(g.shape,p.shape),v=[];if(1===g.rank){for(let e=0;e<p.shape.length-1;++e)v.push(p.shape[e]);v.push(1)}const k=(0,d.j)(p,g),S=(0,o.l)(e,y),b=(0,l.Z)((0,s.W)(f,(0,c.d)(r))),x=(0,o.l)((0,o.l)((0,o.l)(b,b),b),(0,c.d)(-.5));return{x:()=>1===g.rank?(0,i.t)((0,o.l)((0,o.l)(e,(0,h.V)((0,i.t)(b,[1,1,1,g.shape[0]]),v)),y),p.shape):(0,i.t)((0,o.l)((0,o.l)(e,b),y),p.shape),mean:()=>{let e=(0,o.l)((0,o.l)(b,(0,c.d)(-1)),S);return 1===g.rank&&(e=(0,u.c)(e,w)),(0,i.t)(e,g.shape)},variance:()=>{let e=(0,o.l)((0,o.l)(x,k),S);return 1===g.rank&&(e=(0,u.c)(e,w)),(0,i.t)(e,g.shape)},scale:()=>{const t=(0,o.l)(k,b);let n=(0,o.l)(e,t);return 1===g.rank&&(n=(0,u.c)(n,w)),(0,i.t)(n,g.shape)},offset:()=>{let t=e;return 1===g.rank&&(t=(0,u.c)(t,w)),(0,i.t)(t,g.shape)}}}}},333:(e,t,n)=>{n.d(t,{E:()=>c});var r=n(15441),s=n(21078),a=n(62302),o=n(7703),i=n(97706),l=n(45119);const c={kernelName:r.mxL,inputsToSave:["x","indices"],gradFunc:(e,t,n)=>{const[r,c]=t,{axis:h}=n,p=(0,l.Y6)(h,r.shape)[0];return{x:()=>{const t=r.shape,n=c.size,l=t.slice(0,p),g=l.length,f=t.slice(h,t.length).slice(1),m=f.length,y=d(0,g),w=d(g+1,g+1+m),v=u([l,[n],f]),k=(0,a.t)(e,v),S=(0,a.t)(c,[n]),b=u([[g],y,w]),x=(0,o.m)(k,b);let F=(0,i.z)(x,S,r.shape[p]);const E=(0,s.gx)(b);return F=(0,o.m)(F,E),F},indices:()=>c}}};function d(e,t){const n=[];for(let r=e;r<t;++r)n.push(r);return n}function u(e){const t=[];for(let n=0;n<e.length;++n)for(let r=0;r<e[n].length;++r)t.push(e[n][r]);return t}},60918:(e,t,n)=>{n.d(t,{D:()=>a});var r=n(15441),s=n(55537);const a={kernelName:r.lLS,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t;return{a:()=>(0,s.P)(n),b:()=>(0,s.P)(r)}}}},40726:(e,t,n)=>{n.d(t,{L:()=>a});var r=n(15441),s=n(29809);const a={kernelName:r.lzr,gradFunc:e=>({x:()=>(0,s.w)(e,"float32")})}},73005:(e,t,n)=>{n.d(t,{c:()=>a});var r=n(15441),s=n(55537);const a={kernelName:r.gIW,gradFunc:e=>({x:()=>(0,s.P)(e)})}},12741:(e,t,n)=>{n.d(t,{c:()=>a});var r=n(15441),s=n(55537);const a={kernelName:r.E3$,gradFunc:e=>({x:()=>(0,s.P)(e)})}},48971:(e,t,n)=>{n.d(t,{C:()=>a});var r=n(15441),s=n(55537);const a={kernelName:r.iPs,gradFunc:e=>({x:()=>(0,s.P)(e)})}},29372:(e,t,n)=>{n.d(t,{J:()=>a});var r=n(15441),s=n(71892);const a={kernelName:r.jM4,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[r,a]=t,{depthRadius:o,bias:i,alpha:l,beta:c}=n;return{x:()=>(0,s.u)(r,a,e,o,i,l,c)}}}},63884:(e,t,n)=>{n.d(t,{f:()=>i});var r=n(15441),s=n(62058),a=n(9258),o=n(12151);const i={kernelName:r.X0$,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{alpha:i}=n,l=(0,s.r)(r,0);return{x:()=>(0,o._)(l,e,(0,a.l)(e,i))}}}},39057:(e,t,n)=>{n.d(t,{G:()=>o});var r=n(15441),s=n(37523),a=n(89359);const o={kernelName:r.Cg$,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,a.y)(e,(0,s.W)(n,1))}}}},59040:(e,t,n)=>{n.d(t,{z:()=>l});var r=n(15441),s=n(8631),a=n(9258),o=n(77126),i=n(83791);const l={kernelName:r.zfU,inputsToSave:[],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[r]=t,{axis:l}=n;return{logits:()=>{const t=(0,s.o)(r);return(0,o.j)(e,(0,a.l)((0,i.c)(e,l,!0),t))}}}}},72982:(e,t,n)=>{n.d(t,{V:()=>o});var r=n(15441),s=n(29809),a=n(89359);const o={kernelName:r.tG8,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,a.y)(e,(0,s.w)(n,"float32"))}}}},85573:(e,t,n)=>{n.d(t,{S:()=>a});var r=n(15441),s=n(28304);const a={kernelName:r.ySp,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[r,a]=t,{filterSize:o,strides:i,pad:l,dimRoundingMode:c}=n;return{x:()=>(0,s.s)(e,r,a,o,i,l,c)}}}},43668:(e,t,n)=>{n.d(t,{P:()=>a});var r=n(15441),s=n(23938);const a={kernelName:r.t3d,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[r,a]=t,{filterSize:o,strides:i,pad:l}=n;return{x:()=>(0,s.d)(e,r,a,o,i,l)}}}},842:(e,t,n)=>{n.d(t,{n:()=>o});var r=n(15441),s=n(45119),a=n(43546);const o={kernelName:r.VAI,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const r=n,{reductionIndices:o}=r,i=t[0],l=t[1],c=s.Y6(o,i.shape),d=(0,a.v)(e,l,i,c);return{x:()=>d.x()}}}},89946:(e,t,n)=>{n.d(t,{p:()=>l});var r=n(15441),s=n(29809),a=n(13337),o=n(61303),i=n(9258);const l={kernelName:r.LDN,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t;return{a:()=>(0,i.l)(e,(0,s.w)((0,a.D)(n,r),"float32")),b:()=>(0,i.l)(e,(0,s.w)((0,o.M)(n,r),"float32"))}}}},95931:(e,t,n)=>{n.d(t,{k:()=>d});var r=n(15441),s=n(21078),a=n(89359),o=n(9258),i=n(61411),l=n(62302),c=n(45119);const d={kernelName:r.g5A,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{axis:d}=n,u=c.Y6(d,r.shape),h=(0,s.lb)(r.shape,u)[1],p=c.Ze(h);return{x:()=>{const t=r.shape.slice();u.forEach((e=>{t[e]=1}));const n=(0,l.t)(e,t);return(0,a.y)((0,o.l)(n,(0,i.S)(r.shape,"float32")),p)}}}}},91304:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(15441),s=n(45119),a=n(43546);const o={kernelName:r.lNG,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const r=n,{axis:o}=r,[i,l]=t,c=s.Y6(o,i.shape),d=(0,a.v)(e,l,i,c);return{x:()=>d.x()}}}},9544:(e,t,n)=>{n.d(t,{$:()=>l});var r=n(15441),s=n(29809),a=n(62058),o=n(56508),i=n(9258);const l={kernelName:r.LG0,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t;return{a:()=>(0,i.l)(e,(0,s.w)((0,o.I)(n,r),"float32")),b:()=>(0,i.l)(e,(0,s.w)((0,a.r)(n,r),"float32"))}}}},78260:(e,t,n)=>{n.d(t,{P:()=>a});var r=n(15441),s=n(17986);const a={kernelName:r.x7F,inputsToSave:["x"],gradFunc:(e,t,n)=>{const r=t[0],{paddings:a}=n,o=a.map((e=>e[0]));return{x:()=>(0,s.d)(e,o,r.shape)}}}},18808:(e,t,n)=>{n.d(t,{$:()=>u});var r=n(15441),s=n(62198),a=n(89359),o=n(15606),i=n(9258),l=n(96522),c=n(62302),d=n(83791);const u={kernelName:r.BLA,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,u=(0,s.assertAndGetBroadcastShape)(n.shape,r.shape);return{a:()=>{const t=(0,s.getReductionAxes)(n.shape,u);return t.length>0?(0,c.t)((0,d.c)(e,t),n.shape):e},b:()=>{const t=(0,i.l)(e,(0,l.H)((0,o.R)((0,a.y)(n,r)))),h=(0,s.getReductionAxes)(r.shape,u);return h.length>0?(0,c.t)((0,d.c)(t,h),r.shape):t}}}}},23900:(e,t,n)=>{n.d(t,{r:()=>c});var r=n(15441),s=n(62198),a=n(29809),o=n(9258),i=n(62302),l=n(83791);const c={kernelName:r.xu7,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,c=(0,s.assertAndGetBroadcastShape)(n.shape,r.shape);return{a:()=>{const t=(0,o.l)(e,(0,a.w)(r,"float32")),d=(0,s.getReductionAxes)(n.shape,c);return d.length>0?(0,i.t)((0,l.c)(t,d),n.shape):t},b:()=>{const t=(0,o.l)(e,(0,a.w)(n,"float32")),d=(0,s.getReductionAxes)(r.shape,c);return d.length>0?(0,i.t)((0,l.c)(t,d),r.shape):t}}}}},47442:(e,t,n)=>{n.d(t,{h:()=>a});var r=n(15441),s=n(96522);const a={kernelName:r.l0G,gradFunc:e=>({x:()=>(0,s.H)(e)})}},4613:(e,t,n)=>{n.d(t,{U:()=>a});var r=n(15441),s=n(42855);const a={kernelName:r.urI,inputsToSave:["indices"],gradFunc:(e,t)=>{const n=t[0];return{indices:()=>(0,s.U)(n.shape,"float32")}}}},82934:(e,t,n)=>{n.d(t,{P:()=>a});var r=n(15441),s=n(55537);const a={kernelName:r.LWX,gradFunc:e=>({x:()=>(0,s.P)(e)})}},41295:(e,t,n)=>{n.d(t,{I:()=>a});var r=n(15441),s=n(67261);const a={kernelName:r.mM$,saveAllInputs:!0,gradFunc:(e,t,n)=>{const{axis:r}=n;return(0,s.K)(e,r).map((e=>()=>e))}}},25363:(e,t,n)=>{n.d(t,{M:()=>a});var r=n(15441),s=n(17986);const a={kernelName:r.ODT,inputsToSave:["x"],gradFunc:(e,t,n)=>{const r=t[0],{paddings:a}=n,o=a.map((e=>e[0]));return{x:()=>(0,s.d)(e,o,r.shape)}}}},21466:(e,t,n)=>{n.d(t,{d:()=>m});var r=n(15441),s=n(62198),a=n(29809),o=n(62058),i=n(44010),l=n(9258),c=n(98990),d=n(62302),u=n(45702),h=n(77126),p=n(83791),g=n(12151),f=n(55537);const m={kernelName:r.pyJ,inputsToSave:["a","b"],outputsToSave:[!0],gradFunc:(e,t)=>{const[n,r,m]=t,y=n,w=r,v=s.assertAndGetBroadcastShape(y.shape,w.shape);return{a:()=>{const t=(0,a.w)(w,"float32");let n=(0,l.l)(e,(0,l.l)(t,(0,c.n)(y,(0,h.j)(t,(0,u.d)(1)))));const r=s.getReductionAxes(y.shape,v);return r.length>0&&(n=(0,p.c)(n,r)),(0,d.t)(n,y.shape)},b:()=>{const t=(0,o.r)(y,0),n=(0,g._)(t,(0,i.R)(y),(0,f.P)(y));let r=(0,l.l)(e,(0,l.l)(m,n));const a=s.getReductionAxes(w.shape,v);return a.length>0&&(r=(0,p.c)(r,a)),(0,d.t)(r,w.shape)}}}}},49614:(e,t,n)=>{n.d(t,{t:()=>u});var r=n(15441),s=n(62198),a=n(62058),o=n(9258),i=n(62302),l=n(83791),c=n(12151),d=n(55537);const u={kernelName:r.Ncv,inputsToSave:["x","alpha"],gradFunc:(e,t)=>{const[n,r]=t,u=(0,a.r)(n,0);return{x:()=>(0,c._)(u,e,(0,o.l)(e,r)),alpha:()=>{let t=(0,c._)(u,(0,d.P)(e),(0,o.l)(e,n));const a=(0,s.getReductionAxes)(r.shape,e.shape);return a.length>0&&(t=(0,l.c)(t,a)),(0,i.t)(t,r.shape)}}}}},37395:(e,t,n)=>{n.d(t,{a:()=>c});var r=n(21078),s=n(15441),a=n(10302),o=n(9258),i=n(62302),l=n(7703);const c={kernelName:s.kdj,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[s]=t,{axis:c}=n;let d=[];return d=null==c?s.shape.map(((e,t)=>t)):"number"==typeof c?[c]:c,{x:()=>function(e,t,n){const s=e.shape.length,c=s-n.length,d=r.Em(n,s);let u=e;null!=d&&(u=(0,l.m)(e,d));const h=u.shape.slice(),p=h.splice(s-n.length,n.length).reduce(((e,t)=>e*t),1);h.push(p);let g=function(e,t,n){const r=e.shape.slice();r[n]=1;const s=(0,i.t)(t,r),l=(0,a.L)(e,n,!0,!1),c=(0,a.L)(e,n,!0,!0),d=(0,o.l)(l,c);return(0,o.l)(s,d)}(u.reshape(h),t,c);if(g=g.reshape(u.shape),null!=d){const e=r.gx(d);g=(0,l.m)(g,e)}return g}(s,e,d)}}}},6621:(e,t,n)=>{n.d(t,{g:()=>h});var r=n(15441),s=n(62198),a=n(29809),o=n(89359),i=n(9258),l=n(96522),c=n(62302),d=n(45793),u=n(83791);const h={kernelName:r.sDr,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,h=s.assertAndGetBroadcastShape(n.shape,r.shape);return{a:()=>{const t=(0,o.y)(e,(0,a.w)(r,"float32")),i=s.getReductionAxes(n.shape,h);return i.length>0?(0,c.t)((0,u.c)(t,i),n.shape):t},b:()=>{let t=(0,i.l)(e,(0,a.w)(n,"float32"));const p=s.getReductionAxes(r.shape,h);p.length>0&&(t=(0,c.t)((0,u.c)(t,p),r.shape));const g=(0,d.E)(r);return(0,l.H)((0,o.y)(t,(0,a.w)(g,"float32")))}}}}},81223:(e,t,n)=>{n.d(t,{j:()=>i});var r=n(15441),s=n(89359),a=n(96522),o=n(45793);const i={kernelName:r.huO,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,s.y)(e,(0,a.H)((0,o.E)(n)))}}}},62152:(e,t,n)=>{n.d(t,{p:()=>l});var r=n(15441),s=n(29809),a=n(56508),o=n(9258),i=n(10700);const l={kernelName:r.P_L,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t,r=(0,o.l)((0,a.I)(n,6),(0,i.P)(n));return{x:()=>(0,o.l)(e,(0,s.w)(r,"float32"))}}}},55786:(e,t,n)=>{n.d(t,{T:()=>i});var r=n(15441),s=n(29809),a=n(9258),o=n(10700);const i={kernelName:r.fUj,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,a.l)(e,(0,s.w)((0,o.P)(n),"float32"))}}}},38486:(e,t,n)=>{n.d(t,{x:()=>a});var r=n(15441),s=n(62302);const a={kernelName:r.R23,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,s.t)(e,n.shape)}}}},30988:(e,t,n)=>{n.d(t,{j:()=>a});var r=n(67897),s=n(15441);const a={kernelName:s.hgw,inputsToSave:["images"],gradFunc:(e,t,n)=>{const[a]=t,o={dy:e,images:a};return{images:()=>r.T2.runKernel(s.FCQ,o,n)}}}},91652:(e,t,n)=>{n.d(t,{n:()=>a});var r=n(67897),s=n(15441);const a={kernelName:s.jOE,inputsToSave:["images"],gradFunc:(e,t,n)=>{const[a]=t,o={dy:e,images:a};return{images:()=>r.T2.runKernel(s.XQy,o,n)}}}},74562:(e,t,n)=>{n.d(t,{D:()=>o});var r=n(15441),s=n(53262),a=n(45119);const o={kernelName:r.D7i,gradFunc:(e,t,n)=>{const{dims:r}=n,o=(0,a.Y6)(r,e.shape);return{x:()=>(0,s.B)(e,o)}}}},75308:(e,t,n)=>{n.d(t,{v:()=>a});var r=n(15441),s=n(55537);const a={kernelName:r.hVg,gradFunc:e=>({x:()=>(0,s.P)(e)})}},69984:(e,t,n)=>{n.d(t,{$:()=>l});var r=n(15441),s=n(89359),a=n(9258),o=n(96522),i=n(98990);const l={kernelName:r.TOR,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,o.H)((0,s.y)(e,(0,a.l)((0,i.n)(n,1.5),2)))}}}},43524:(e,t,n)=>{n.d(t,{D:()=>l});var r=n(15441),s=n(29809),a=n(89881),o=n(9258),i=n(55537);const l={kernelName:r.l6P,inputsToSave:["condition"],gradFunc:(e,t)=>{const[n]=t;return{condition:()=>(0,s.w)((0,i.P)(n),"float32"),t:()=>(0,o.l)(e,(0,s.w)(n,e.dtype)),e:()=>(0,o.l)(e,(0,s.w)((0,a.N)(n),e.dtype))}}}},60309:(e,t,n)=>{n.d(t,{O:()=>u});var r=n(15441),s=n(29809),a=n(8631),o=n(62058),i=n(9258),l=n(45702),c=n(28576),d=n(12151);const u={kernelName:r.u$b,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const t=(0,o.r)(n,(0,l.d)(0)),r=(0,l.d)(c.j),u=(0,l.d)(c.X),h=(0,i.l)(e,u),p=(0,i.l)((0,i.l)(e,r),(0,a.o)((0,s.w)(n,"float32")));return(0,d._)(t,h,p)}}}}},97540:(e,t,n)=>{n.d(t,{H:()=>i});var r=n(15441),s=n(9258),a=n(45702),o=n(77126);const i={kernelName:r.vI1,outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,s.l)(e,(0,s.l)(n,(0,o.j)((0,a.d)(1),n)))}}}},63275:(e,t,n)=>{n.d(t,{q:()=>a});var r=n(15441),s=n(55537);const a={kernelName:r.YVe,gradFunc:e=>({x:()=>(0,s.P)(e)})}},86942:(e,t,n)=>{n.d(t,{V:()=>i});var r=n(15441),s=n(29809),a=n(99907),o=n(9258);const i={kernelName:r.hql,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,o.l)((0,a.g)((0,s.w)(n,"float32")),e)}}}},6006:(e,t,n)=>{n.d(t,{l:()=>i});var r=n(15441),s=n(29809),a=n(27451),o=n(9258);const i={kernelName:r.J3C,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,o.l)((0,a.y)((0,s.w)(n,"float32")),e)}}}},58406:(e,t,n)=>{n.d(t,{d:()=>o});var r=n(15441),s=n(65661),a=n(34969);const o={kernelName:r.JiE,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{begin:o,size:i}=n,l=r.shape,[c,d]=(0,a.parseSliceParams)(r,o,i),u=[];for(let t=0;t<e.rank;t++)u.push([c[t],l[t]-c[t]-d[t]]);return{x:()=>(0,s.e)(e,u)}}}},6886:(e,t,n)=>{n.d(t,{X:()=>i});var r=n(15441),s=n(9258),a=n(77126),o=n(83791);const i={kernelName:r.rFG,outputsToSave:[!0],gradFunc:(e,t,n)=>{const[r]=t,{dim:i}=n,l=(0,s.l)(e,r);return{logits:()=>(0,a.j)(l,(0,s.l)((0,o.c)(l,[i],!0),r))}}}},70244:(e,t,n)=>{n.d(t,{F:()=>o});var r=n(15441),s=n(9258),a=n(28968);const o={kernelName:r.Fin,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,s.l)(e,(0,a.r)(n))}}}},49745:(e,t,n)=>{n.d(t,{Y:()=>a});var r=n(15441),s=n(69772);const a={kernelName:r.A8B,gradFunc:(e,t,n)=>{const{blockShape:r,paddings:a}=n;return{x:()=>(0,s.G)(e,r,a)}}}},35922:(e,t,n)=>{n.d(t,{n:()=>a});var r=n(15441),s=n(25030);const a={kernelName:r.Blb,gradFunc:(e,t,n)=>{const{axis:r}=n;return{x:()=>(0,s.x)(e,r)}}}},12486:(e,t,n)=>{n.d(t,{V:()=>l});var r=n(15441),s=n(29809),a=n(89359),o=n(9258),i=n(79348);const l={kernelName:r.dFH,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,a.y)(e,(0,o.l)((0,i.R)((0,s.w)(n,"float32")),2))}}}},95809:(e,t,n)=>{n.d(t,{M:()=>o});var r=n(15441),s=n(29809),a=n(9258);const o={kernelName:r.M6A,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,a.l)(e,(0,a.l)((0,s.w)(n,"float32"),2))}}}},52878:(e,t,n)=>{n.d(t,{b:()=>i});var r=n(15441),s=n(9258),a=n(45702),o=n(77126);const i={kernelName:r.Ddj,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,i=(0,a.d)(2);return{a:()=>(0,s.l)(e,(0,s.l)(i,(0,o.j)(n,r))),b:()=>(0,s.l)(e,(0,s.l)(i,(0,o.j)(r,n)))}}}},17278:(e,t,n)=>{n.d(t,{f:()=>a});var r=n(15441),s=n(55537);const a={kernelName:r.pnw,gradFunc:e=>({x:()=>(0,s.P)(e)})}},13390:(e,t,n)=>{n.d(t,{p:()=>l});var r=n(15441),s=n(62198),a=n(96522),o=n(62302),i=n(83791);const l={kernelName:r.PbM,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,l=s.assertAndGetBroadcastShape(n.shape,r.shape);return{a:()=>{let t=e;const r=s.getReductionAxes(n.shape,l);return r.length>0&&(t=(0,i.c)(t,r)),(0,o.t)(t,n.shape)},b:()=>{let t=e;const n=s.getReductionAxes(r.shape,l);return n.length>0&&(t=(0,i.c)(t,n)),(0,o.t)((0,a.H)(t),r.shape)}}}}},6981:(e,t,n)=>{n.d(t,{m:()=>l});var r=n(15441),s=n(9258),a=n(61411),o=n(62302),i=n(45119);const l={kernelName:r.WuN,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,l=r.shape.slice(),{axis:c}=n;(0,i.Y6)(c,r.shape).forEach((e=>{l[e]=1}));const d=(0,o.t)(e,l),u=(0,s.l)(d,(0,a.S)(r.shape,"float32"));return{x:()=>u}}}},4861:(e,t,n)=>{n.d(t,{k:()=>i});var r=n(15441),s=n(99907),a=n(89359),o=n(45793);const i={kernelName:r.oFs,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,a.y)(e,(0,o.E)((0,s.g)(n)))}}}},99587:(e,t,n)=>{n.d(t,{w:()=>l});var r=n(15441),s=n(9258),a=n(45702),o=n(45793),i=n(77126);const l={kernelName:r.iuW,outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,s.l)((0,i.j)((0,a.d)(1),(0,o.E)(n)),e)}}}},26680:(e,t,n)=>{n.d(t,{X:()=>i});var r=n(15441),s=n(37523),a=n(17986),o=n(55537);const i={kernelName:r.FAs,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{reps:i}=n;return{x:()=>{let t=(0,o.P)(r);if(1===r.rank)for(let n=0;n<i[0];++n)t=(0,s.W)(t,(0,a.d)(e,[n*r.shape[0]],[r.shape[0]]));else if(2===r.rank)for(let n=0;n<i[0];++n)for(let o=0;o<i[1];++o)t=(0,s.W)(t,(0,a.d)(e,[n*r.shape[0],o*r.shape[1]],[r.shape[0],r.shape[1]]));else if(3===r.rank)for(let n=0;n<i[0];++n)for(let o=0;o<i[1];++o)for(let l=0;l<i[2];++l)t=(0,s.W)(t,(0,a.d)(e,[n*r.shape[0],o*r.shape[1],l*r.shape[2]],[r.shape[0],r.shape[1],r.shape[2]]));else{if(4!==r.rank)throw new Error(`Gradient for tile operation is not implemented for rank-${r.rank} tensors yet.`);for(let n=0;n<i[0];++n)for(let o=0;o<i[1];++o)for(let l=0;l<i[2];++l)for(let c=0;c<i[3];++c)t=(0,s.W)(t,(0,a.d)(e,[n*r.shape[0],o*r.shape[1],l*r.shape[2],c*r.shape[3]],[r.shape[0],r.shape[1],r.shape[2],r.shape[3]]))}return t}}}}},43561:(e,t,n)=>{n.d(t,{m:()=>o});var r=n(15441),s=n(21078),a=n(7703);const o={kernelName:r.wx0,gradFunc:(e,t,n)=>{const r=n,{perm:o}=r,i=s.gx(o);return{x:()=>(0,a.m)(e,i)}}}},55698:(e,t,n)=>{n.d(t,{t:()=>a});var r=n(15441),s=n(54268);const a={kernelName:r.dXR,gradFunc:(e,t,n)=>{const r=n,{axis:a}=r;return{value:()=>(0,s.t)(e,a)}}}},47774:(e,t,n)=>{n.d(t,{h:()=>p});var r=n(15441),s=n(8710),a=n(48229),o=n(13337),i=n(13789),l=n(30178),c=n(61411),d=n(45702),u=n(12151),h=n(55537);const p={kernelName:r.pPe,inputsToSave:["segmentIds"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>function(e,t){const n=(0,l.P)(t,(0,h.P)(t)),r=(0,a.k)(e,n);let p=(0,o.D)(t,(0,d.d)(0,"int32"));const g=r.rank-p.rank;for(let e=0;e<g;++e)p=(0,s.U)(p,e+1);p=(0,i.n)(p,(0,c.S)(r.shape,"bool"));const f=(0,h.P)(r);return(0,u._)(p,r,f)}(e,n)}}}},37492:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(15441),s=n(55537);const a={kernelName:r.xJ3,gradFunc:e=>({x:()=>(0,s.P)(e)})}},43546:(e,t,n)=>{n.d(t,{v:()=>l});var r=n(21078),s=n(29809),a=n(13020),o=n(9258),i=n(62302);function l(e,t,n,l){return t.rank<n.rank&&(t=(0,i.t)(t,r.SM(t.shape,l))),e.rank<n.rank&&(e=(0,i.t)(e,r.SM(e.shape,l))),{x:()=>(0,o.l)(e,(0,s.w)((0,a.L)(n,t),e.dtype))}}},26286:(e,t,n)=>{n.d(t,{D:()=>m,f:()=>a});var r=n(28570);const s=n.n(r)()||r;function a(e){return s.fromString(e,!0,16)}const o=a("c3a5c85c97cb3127"),i=a("b492b66fbe98f273"),l=a("9ae16a3b2f90404f");function c(e){return e.xor(e.shru(47))}function d(e,t,n){const r=e.slice(t,t+n);return s.fromBytes(Array.from(r),!0,!0)}function u(e,t){return d(e,t,8)}function h(e,t){return d(e,t,4)}function p(e,t){return 0===t?e:e.shru(t).or(e.shl(64-t))}function g(e,t,n=a("9ddfea08eb382d69")){let r=e.xor(t).mul(n);r=r.xor(r.shru(47));let s=t.xor(r).mul(n);return s=s.xor(s.shru(47)),s=s.mul(n),s}function f(e,t,n,r){return function(e,t,n,r,s,a){s=s.add(e),a=p(a.add(s).add(r),21);const o=s;return s=(s=s.add(t)).add(n),a=a.add(p(s,44)),[s.add(r),a.add(o)]}(u(e,t),u(e,t+8),u(e,t+16),u(e,t+24),n,r)}function m(e,t=e.length){const n=s.fromNumber(81,!0);if(t<=32)return t<=16?function(e,t=e.length){if(t>=8){const n=l.add(2*t),r=u(e,0).add(l),s=u(e,t-8);return g(p(s,37).mul(n).add(r),p(r,25).add(s).mul(n),n)}if(t>=4){const n=l.add(2*t);return g(h(e,0).shl(3).add(t),h(e,t-4),n)}if(t>0){const n=e[0]+(e[t>>1]<<8),r=t+(e[t-1]<<2);return c(l.mul(n).xor(o.mul(r))).mul(l)}return l}(e,t):function(e,t=e.length){const n=l.add(2*t),r=u(e,0).mul(i),s=u(e,8),a=u(e,t-8).mul(n),o=u(e,t-16).mul(l);return g(p(r.add(s),43).add(p(a,30)).add(o),r.add(p(s.add(l),18)).add(a),n)}(e,t);if(t<=64)return function(e,t=e.length){const n=l.add(2*t),r=u(e,0).mul(l),s=u(e,8),a=u(e,t-8).mul(n),o=u(e,t-16).mul(l),i=p(r.add(s),43).add(p(a,30)).add(o),c=g(i,r.add(p(s.add(l),18)).add(a),n),d=u(e,16).mul(n),h=u(e,24),f=i.add(u(e,t-32)).mul(n),m=c.add(u(e,t-24)).mul(n);return g(p(d.add(h),43).add(p(f,30)).add(m),d.add(p(h.add(r),18)).add(f),n)}(e,t);let r=n,a=n.mul(i).add(113),d=c(a.mul(l).add(113)).mul(l),m=[s.UZERO,s.UZERO],y=[s.UZERO,s.UZERO];r=r.mul(l).add(u(e,0));let w=0;const v=64*(t-1>>6),k=v+(t-1&63)-63;do{r=p(r.add(a).add(m[0]).add(u(e,w+8)),37).mul(i),a=p(a.add(m[1]).add(u(e,w+48)),42).mul(i),r=r.xor(y[1]),a=a.add(m[0]).add(u(e,w+40)),d=p(d.add(y[0]),33).mul(i),m=f(e,w,m[1].mul(i),r.add(y[0])),y=f(e,w+32,d.add(y[1]),a.add(u(e,w+16))),[d,r]=[r,d],w+=64}while(w!==v);const S=i.add(d.and(255).shl(1));return w=k,y[0]=y[0].add(t-1&63),m[0]=m[0].add(y[0]),y[0]=y[0].add(m[0]),r=p(r.add(a).add(m[0]).add(u(e,w+8)),37).mul(S),a=p(a.add(m[1]).add(u(e,w+48)),42).mul(S),r=r.xor(y[1].mul(9)),a=a.add(m[0].mul(9).add(u(e,w+40))),d=p(d.add(y[0]),33).mul(S),m=f(e,w,m[1].mul(S),r.add(y[0])),y=f(e,w+32,d.add(y[1]),a.add(u(e,w+16))),[d,r]=[r,d],g(g(m[0],y[0],S).add(c(a).mul(o)).add(d),g(m[1],y[1],S).add(r),S)}},36115:(e,t,n)=>{n.d(t,{ljI:()=>ze.ljI,Vvy:()=>ze.Vvy,PH8:()=>ze.PH8,OMN:()=>ze.OMN,EkD:()=>ze.EkD,u8Z:()=>ze.u8Z,FSt:()=>ze.FSt,Jp_:()=>ze.Jp_,p_m:()=>ze.p_m,QKF:()=>ze.QKF,epO:()=>ze.epO,TyE:()=>ze.TyE,lxb:()=>ze.lxb,zP9:()=>ze.zP9,ho8:()=>ze.ho8,cS:()=>ze.cS,wwC:()=>ze.wwC,VCH:()=>ze.VCH,jAQ:()=>ze.jAQ,Ik2:()=>ze.Ik2,N4F:()=>ze.N4F,vj7:()=>ze.vj7,KXH:()=>ze.KXH,QDP:()=>ze.QDP,vaV:()=>ze.vaV,pr3:()=>ze.pr3,$zE:()=>ze.$zE,$dB:()=>ze.$dB,p2J:()=>ze.p2J,rFm:()=>ze.rFm,jfg:()=>ze.jfg,A1h:()=>ze.A1h,iGz:()=>ze.iGz,gC7:()=>ze.gC7,Mn0:()=>ze.Mn0,MnK:()=>ze.MnK,MRQ:()=>ze.MRQ,jj_:()=>ze.jj_,nY8:()=>ze.nY8,GJx:()=>_e.GJ,wNW:()=>ze.wNW,TMz:()=>ze.TMz,tGH:()=>ze.tGH,X$8:()=>ze.X$8,nVu:()=>ze.nVu,ORI:()=>ze.ORI,jxD:()=>ze.jxD,Qgm:()=>ze.Qgm,Pah:()=>ze.Pah,rsH:()=>ze.rsH,BRl:()=>ze.BRl,_s9:()=>ze._s9,ox3:()=>ze.ox3,ybN:()=>ze.ybN,ybj:()=>ze.ybj,rGP:()=>ze.rGP,SQl:()=>ze.SQl,BxF:()=>ze.BxF,ZgB:()=>ze.ZgB,ElG:()=>ze.ElG,awo:()=>ze.awo,i5R:()=>ze.i5R,aAr:()=>ze.aAr,T7M:()=>ze.T7M,O4G:()=>ze.O4G,mxL:()=>ze.mxL,XhZ:()=>ze.XhZ,lLS:()=>ze.lLS,OAQ:()=>ze.OAQ,lzr:()=>ze.lzr,dv8:()=>ze.dv8,gIW:()=>ze.gIW,E3$:()=>ze.E3$,iPs:()=>ze.iPs,uI_:()=>_e.uI,jM4:()=>ze.jM4,ToN:()=>ze.ToN,X0$:()=>ze.X0$,mIA:()=>ze.mIA,CwD:()=>ze.CwD,mnI:()=>ze.mnI,tG8:()=>ze.tG8,Cg$:()=>ze.Cg$,RUm:()=>ze.RUm,nZd:()=>ze.nZd,LXA:()=>ze.LXA,VAI:()=>ze.VAI,t3d:()=>ze.t3d,ySp:()=>ze.ySp,cHb:()=>ze.cHb,RXX:()=>ze.RXX,TL8:()=>ze.TL8,LDN:()=>ze.LDN,g5A:()=>ze.g5A,lNG:()=>ze.lNG,LG0:()=>ze.LG0,x7F:()=>ze.x7F,BLA:()=>ze.BLA,WT3:()=>ze.WT3,xu7:()=>ze.xu7,l0G:()=>ze.l0G,SDM:()=>ze.SDM,Zl4:()=>ze.Zl4,e0f:()=>ze.e0f,ylV:()=>ze.ylV,urI:()=>ze.urI,LWX:()=>ze.LWX,ELo:()=>W.E,mM$:()=>ze.mM$,ODT:()=>ze.ODT,pyJ:()=>ze.pyJ,Ncv:()=>ze.Ncv,kdj:()=>ze.kdj,oJ2:()=>ze.oJ2,CQC:()=>ze.CQC,mH5:()=>ze.mH5,Q6t:()=>ze.Q6t,LRy:()=>ze.LRy,sDr:()=>ze.sDr,huO:()=>ze.huO,fUj:()=>ze.fUj,P_L:()=>ze.P_L,R23:()=>ze.R23,hgw:()=>ze.hgw,FCQ:()=>ze.FCQ,jOE:()=>ze.jOE,XQy:()=>ze.XQy,D7i:()=>ze.D7i,BK4:()=>ze.BK4,hVg:()=>ze.hVg,TOR:()=>ze.TOR,pJc:()=>ze.pJc,uWl:()=>ze.uWl,l6P:()=>ze.l6P,u$b:()=>ze.u$b,vI1:()=>ze.vI1,YVe:()=>ze.YVe,hql:()=>ze.hql,J3C:()=>ze.J3C,JiE:()=>ze.JiE,rFG:()=>ze.rFG,Fin:()=>ze.Fin,A8B:()=>ze.A8B,C8s:()=>ze.C8s,BoJ:()=>ze.BoJ,L6G:()=>ze.L6G,DvZ:()=>ze.DvZ,jgd:()=>ze.jgd,Blb:()=>ze.Blb,dFH:()=>ze.dFH,M6A:()=>ze.M6A,Ddj:()=>ze.Ddj,pnw:()=>ze.pnw,UcO:()=>ze.UcO,YAb:()=>ze.YAb,iW0:()=>ze.iW0,$jE:()=>ze.$jE,PbM:()=>ze.PbM,WuN:()=>ze.WuN,oFs:()=>ze.oFs,iuW:()=>ze.iuW,qYS:()=>u.qY,ylz:()=>u.yl,FAs:()=>ze.FAs,TBb:()=>ze.TBb,dLy:()=>ze.dLy,wx0:()=>ze.wx0,EwU:()=>ze.EwU,dXR:()=>ze.dXR,pPe:()=>ze.pPe,xJ3:()=>ze.xJ3,Dr:()=>ze.Dr,tnl:()=>J.tnl,WQq:()=>J.WQq,Q7R:()=>J.Q7R,bzn:()=>J.bzn,FLi:()=>J.FLi,$jT:()=>J.$jT,sub:()=>J.sub,Hs:()=>q.Hs,backend_util:()=>s,BFc:()=>J.BFc,kSi:()=>J.kSi,T5N:()=>J.T5N,hOW:()=>J.hOW,ZEY:()=>_,TaL:()=>z,ra8:()=>J.ra8,wgE:()=>J.wgE,zQh:()=>J.zQh,o8B:()=>J.o8B,xWs:()=>J.xWs,I1m:()=>J.I1m,RPU:()=>J.RPU,O5O:()=>J.O5O,P1l:()=>J.P1l,kA9:()=>J.kA9,Xtf:()=>J.Xtf,wX9:()=>J.wX9,IPL:()=>J.IPL,jIJ:()=>J.jIJ,aOp:()=>J.aOp,Gl3:()=>J.Gl3,eMq:()=>Ce,ASo:()=>q.AS,y4m:()=>J.y4m,EZY:()=>J.EZY,Pqc:()=>J.Pqc,Hi9:()=>q.Hi,_K2:()=>g._K,LCg:()=>J.LCg,oNF:()=>J.oNF,UG6:()=>J.UG6,y5U:()=>J.y5U,GSj:()=>J.GSj,RIf:()=>J.RIf,cZk:()=>J.cZk,kgh:()=>J.kgh,jz4:()=>q.jz,rhj:()=>J.rhj,DQN:()=>J.DQN,image:()=>J.Slp,io:()=>r,aCs:()=>q.aC,kpo:()=>a,H8d:()=>J.H8d,mPL:()=>J.mPL,Rm2:()=>J.Rm2,Kko:()=>J.Kko,HPB:()=>J.HPB,n76:()=>J.n76,NoW:()=>J.NoW,T9B:()=>J.T9B,jgi:()=>J.jgi,NYV:()=>J.NYV,PhQ:()=>J.PhQ,i2o:()=>J.i2o,m1Z:()=>q.m1,jkA:()=>J.jkA,BpO:()=>J.BpO,FFZ:()=>J.FFZ,Clk:()=>J.Clk,lKK:()=>J.lKK,HZy:()=>J.HZy,dA1:()=>Z,Ec:()=>J.Ec,Mw0:()=>J.Mw0,SaS:()=>J.SaS,P61:()=>J.P61,eVF:()=>J.eVF,NsG:()=>J.NsG,FE$:()=>J.FE$,YeY:()=>J.YeY,y17:()=>J.y17,gJX:()=>q.gJ,tAK:()=>Q.tA,VVh:()=>J.VVh,tQQ:()=>J.tQQ,BEg:()=>J.BEg,d_2:()=>J.d_2,WfX:()=>J.WfX,wdz:()=>J.wdz,JFn:()=>G,ry7:()=>J.ry7,dik:()=>J.dik,Q$M:()=>J.Q$M,zAd:()=>J.zAd,wck:()=>J.wck,R0O:()=>J.R0O,Kro:()=>U,Vs9:()=>J.Vs9,lw0:()=>J.lw0,lDo:()=>J.lDo,RZD:()=>J.RZD,EwI:()=>J.EwI,r2V:()=>J.r2V,t$z:()=>J.t$z,jbE:()=>J.jbE,czq:()=>J.czq,chL:()=>V.ch,ymU:()=>J.ymU,OEK:()=>J.OEK,tGX:()=>J.tGX,KtR:()=>J.KtR,DZQ:()=>q.DZ,Vsq:()=>J.Vsq,BaG:()=>K.B,mgz:()=>J.mgz,efE:()=>J.efE,K$i:()=>J.K$i,TuY:()=>V.Tu,ZSL:()=>H,bvq:()=>J.bvq,_M9:()=>J._M9,Ul9:()=>J.Ul9,POl:()=>J.POl});var r={};n.r(r),n.d(r,{browserFiles:()=>k,browserHTTPRequest:()=>B,concatenateArrayBuffers:()=>f.AQ,copyModel:()=>j.xk,decodeWeights:()=>f.CY,encodeWeights:()=>f.aG,fromMemory:()=>O,fromMemorySync:()=>L,getLoadHandlers:()=>m.C9,getModelArtifactsForJSON:()=>f.Ej,getModelArtifactsForJSONSync:()=>f.Rl,getModelArtifactsInfoForJSON:()=>f.oR,getSaveHandlers:()=>m.x3,getWeightSpecs:()=>f.Xf,http:()=>R,isHTTPScheme:()=>I,listModels:()=>j.D,loadWeights:()=>E,moveModel:()=>j.Vo,registerLoadRouter:()=>m.R4,registerSaveRouter:()=>m.Yd,removeModel:()=>j.az,weightsLoaderFactory:()=>T,withSaveHandler:()=>C,withSaveHandlerSync:()=>$});var s={};n.r(s),n.d(s,{ERF_A1:()=>de.T4,ERF_A2:()=>de._7,ERF_A3:()=>de.fp,ERF_A4:()=>de.mg,ERF_A5:()=>de.fE,ERF_P:()=>de.HM,PARALLELIZE_THRESHOLD:()=>se.m,RowPartitionType:()=>re.tl,SELU_SCALE:()=>ce.X,SELU_SCALEALPHA:()=>ce.j,applyActivation:()=>ne.f2,assertAndGetBroadcastShape:()=>_.assertAndGetBroadcastShape,assertAxesAreInnerMostDims:()=>Y.WC,assertParamsConsistent:()=>ee.L,assignToTypedArray:()=>ye,axesAreInnerMostDims:()=>Y.WH,calculateShapes:()=>le.l8,checkEinsumDimSizes:()=>Te,checkPadOnDimRoundingMode:()=>te.s_,combineLocations:()=>Y.aF,combineRaggedTensorToTensorShapes:()=>re.z4,complexWithEvenIndex:()=>ge,complexWithOddIndex:()=>fe,computeConv2DInfo:()=>te.uf,computeConv3DInfo:()=>te.p$,computeDefaultPad:()=>te.G8,computeDilation2DInfo:()=>te.YQ,computeOptimalWindowSize:()=>se.x,computeOutAndReduceShapes:()=>Y.lb,computeOutShape:()=>ee.P,computePool2DInfo:()=>te.E6,computePool3DInfo:()=>te.l5,convertConv2DDataFormat:()=>te.$Q,decodeEinsumEquation:()=>Fe,eitherStridesOrDilationsAreOne:()=>te.G0,expandShapeToKeepDim:()=>Y.SM,exponent:()=>ve,exponents:()=>we,fromStringArrayToUint8:()=>Le,fromUint8ToStringArray:()=>Oe,getAxesPermutation:()=>Y.Em,getBroadcastDims:()=>_.getBroadcastDims,getComplexWithIndex:()=>me,getEinsumComputePath:()=>Ae,getEinsumPermutation:()=>Ee,getFusedBiasGradient:()=>ne.Do,getFusedDyActivation:()=>ne.XB,getImageCenter:()=>ae.H,getInnerMostAxes:()=>Y.fK,getPermuted:()=>oe.b$,getRaggedRank:()=>re.Dw,getReductionAxes:()=>_.getReductionAxes,getReshaped:()=>oe.dE,getReshapedPermuted:()=>oe.VN,getRowPartitionTypesHelper:()=>re.U0,getSliceBeginCoords:()=>oe.Ym,getSliceSize:()=>oe.AO,getSparseFillEmptyRowsIndicesDenseShapeMismatch:()=>Be.P_,getSparseFillEmptyRowsNegativeIndexErrorMessage:()=>Be.U8,getSparseFillEmptyRowsOutOfRangeIndexErrorMessage:()=>Be.zP,getSparseReshapeEmptyTensorZeroOutputDimErrorMessage:()=>Me.Pz,getSparseReshapeInputOutputMismatchErrorMessage:()=>Me.pC,getSparseReshapeInputOutputMultipleErrorMessage:()=>Me.Ni,getSparseReshapeMultipleNegativeOneOutputDimErrorMessage:()=>Me.yM,getSparseReshapeNegativeOutputDimErrorMessage:()=>Me.M5,getSparseSegmentReductionIndicesOutOfRangeErrorMessage:()=>De.dS,getSparseSegmentReductionNegativeSegmentIdsErrorMessage:()=>De.u1,getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage:()=>De.tb,getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage:()=>De.AP,getUndoAxesPermutation:()=>Y.gx,isIdentityPermutation:()=>Ie,log:()=>ue.R,mergeRealAndImagArrays:()=>he,prepareAndValidate:()=>ie.N,prepareSplitSize:()=>Re.z,segment_util:()=>Pe,shouldFuse:()=>ne.zE,slice_util:()=>U,splitRealAndImagArrays:()=>pe,stridesOrDilationsArePositive:()=>te.qk,tupleValuesAreOne:()=>te.Dh,upcastType:()=>V.Tu,validateDefaultValueShape:()=>re.mP,validateInput:()=>le.TT,validateUpdateShape:()=>le.Ly,warn:()=>ue.i});var a={};n.r(a),n.d(a,{c7:()=>$e.c7,ZS:()=>$e.ZS,ut:()=>$e.ut,YO:()=>je.Y});var o=n(67897),i=(n(66652),n(15618),n(83672),n(448)),l=n(29809),c=n(70125),d=n(75295),u=n(50259);(0,o.Ye)();const h={buffer:i.r,cast:l.w,clone:c.o,print:d.y};(0,u.Q5)(h);var p=n(63822),g=(n(30522),n(76745),n(46574)),f=n(77084),m=n(46669);function y(e){return new Promise((e=>setTimeout(e))).then(e)}class w{constructor(e){if(!(0,g._K)().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");e.startsWith(w.URL_SCHEME)&&(e=e.slice(w.URL_SCHEME.length)),null!=e&&0!==e.length||(e="model"),this.modelJsonFileName=e+".json",this.weightDataFileName=e+".weights.bin"}async save(e){if("undefined"==typeof document)throw new Error("Browser downloads are not supported in this environment since `document` is not present");const t=window.URL.createObjectURL(new Blob([e.weightData],{type:"application/octet-stream"}));if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");{const n=[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}],r=(0,f.zV)(e,n),s=window.URL.createObjectURL(new Blob([JSON.stringify(r)],{type:"application/json"})),a=null==this.modelJsonAnchor?document.createElement("a"):this.modelJsonAnchor;if(a.download=this.modelJsonFileName,a.href=s,await y((()=>a.dispatchEvent(new MouseEvent("click")))),null!=e.weightData){const e=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor;e.download=this.weightDataFileName,e.href=t,await y((()=>e.dispatchEvent(new MouseEvent("click"))))}return{modelArtifactsInfo:(0,f.oR)(e)}}}}w.URL_SCHEME="downloads://";class v{constructor(e){if(null==e||e.length<1)throw new Error(`When calling browserFiles, at least 1 file is required, but received ${e}`);this.jsonFile=e[0],this.weightsFiles=e.slice(1)}async load(){return new Promise(((e,t)=>{const n=new FileReader;n.onload=n=>{const r=JSON.parse(n.target.result),s=r.modelTopology;if(null==s)return void t(new Error(`modelTopology field is missing from file ${this.jsonFile.name}`));if(null==r.weightsManifest)return void t(new Error(`weightManifest field is missing from file ${this.jsonFile.name}`));if(0===this.weightsFiles.length)return void e({modelTopology:s});const a=(0,f.Ej)(r,(e=>this.loadWeights(e)));e(a)},n.onerror=e=>t(`Failed to read model topology and weights manifest JSON from file '${this.jsonFile.name}'. BrowserFiles supports loading Keras-style tf.Model artifacts only.`),n.readAsText(this.jsonFile)}))}loadWeights(e){const t=[],n=[];for(const r of e)t.push(...r.weights),n.push(...r.paths);const r=this.checkManifestAndWeightFiles(e),s=n.map((e=>this.loadWeightsFile(e,r[e])));return Promise.all(s).then((e=>[t,(0,f.AQ)(e)]))}loadWeightsFile(e,t){return new Promise(((n,r)=>{const s=new FileReader;s.onload=e=>{const t=e.target.result;n(t)},s.onerror=t=>r(`Failed to weights data from file of path '${e}'.`),s.readAsArrayBuffer(t)}))}checkManifestAndWeightFiles(e){const t=[],n=this.weightsFiles.map((e=>(0,f.P8)(e.name))),r={};for(const s of e)s.paths.forEach((e=>{const s=(0,f.P8)(e);if(-1!==t.indexOf(s))throw new Error(`Duplicate file basename found in weights manifest: '${s}'`);if(t.push(s),-1===n.indexOf(s))throw new Error(`Weight file with basename '${s}' is not provided.`);r[e]=this.weightsFiles[n.indexOf(s)]}));if(t.length!==this.weightsFiles.length)throw new Error(`Mismatch in the number of files in weights manifest (${t.length}) and the number of weight files provided (${this.weightsFiles.length}).`);return r}}function k(e){return new v(e)}m.bM.registerSaveRouter((e=>(0,g._K)().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(w.URL_SCHEME)?function(e="model"){return new w(e)}(e.slice(w.URL_SCHEME.length)):null));var S=n(45119);function b(e,t,n,r){!function(e){(0,S.vA)(null!=e&&Array.isArray(e)&&e.length>0,(()=>"promises must be a none empty array"))}(e),function(e,t){(0,S.vA)(e>=0&&e<=1,(()=>`Progress fraction must be in range [0, 1], but got startFraction ${e}`)),(0,S.vA)(t>=0&&t<=1,(()=>`Progress fraction must be in range [0, 1], but got endFraction ${t}`)),(0,S.vA)(t>=e,(()=>`startFraction must be no more than endFraction, but got startFraction ${e} and endFraction ${t}`))}(n=null==n?0:n,r=null==r?1:r);let s=0;return Promise.all(e.map((a=>(a.then((a=>{const o=n+ ++s/e.length*(r-n);return t(o),a})),a))))}var x=n(15685);async function F(e,t){null==t&&(t={});const n=null==t.fetchFunc?(0,g._K)().platform.fetch:t.fetchFunc,r=e.map((e=>n(e,t.requestInit,{isBinary:!0}))),s=(null==t.onProgress?await Promise.all(r):await b(r,t.onProgress,0,.5)).map((e=>e.arrayBuffer()));return null==t.onProgress?await Promise.all(s):await b(s,t.onProgress,.5,1)}async function E(e,t="",n,r){return T((e=>F(e,{requestInit:r})))(e,t,n)}function T(e){return async(t,n="",r)=>{const s=t.map((()=>!1)),a={},o=null!=r?r.map((()=>!1)):[],i=[];if(t.forEach(((e,t)=>{let n=0;e.weights.forEach((e=>{const l="quantization"in e?e.quantization.dtype:e.dtype,c=x.i[l]*S.Ze(e.shape),d=()=>{s[t]=!0,null==a[t]&&(a[t]=[]),a[t].push({manifestEntry:e,groupOffset:n,sizeBytes:c})};null!=r?r.forEach(((t,n)=>{t===e.name&&(d(),o[n]=!0)})):d(),i.push(e.name),n+=c}))})),!o.every((e=>e))){const e=r.filter(((e,t)=>!o[t]));throw new Error(`Could not find weights in manifest with names: ${e.join(", ")}. \nManifest JSON has weights with names: ${i.join(", ")}.`)}const l=s.reduce(((e,t,n)=>(t&&e.push(n),e)),[]),c=[];l.forEach((e=>{t[e].paths.forEach((e=>{const t=n+(n.endsWith("/")?"":"/")+e;c.push(t)}))}));const d=await e(c),u={};let h=0;return l.forEach((e=>{const n=t[e].paths.length;let r=0;for(let e=0;e<n;e++)r+=d[h+e].byteLength;const s=new ArrayBuffer(r),o=new Uint8Array(s);let i=0;for(let e=0;e<n;e++){const t=new Uint8Array(d[h+e]);o.set(t,i),i+=t.byteLength}a[e].forEach((e=>{const t=s.slice(e.groupOffset,e.groupOffset+e.sizeBytes),n=(0,f.CY)(t,[e.manifestEntry]);for(const e in n)u[e]=n[e]})),h+=n})),u}}class A{constructor(e,t){if(this.DEFAULT_METHOD="POST",null==t&&(t={}),this.weightPathPrefix=t.weightPathPrefix,this.onProgress=t.onProgress,this.weightUrlConverter=t.weightUrlConverter,null!=t.fetchFunc?((0,S.vA)("function"==typeof t.fetchFunc,(()=>"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)")),this.fetch=t.fetchFunc):this.fetch=(0,g._K)().platform.fetch,(0,S.vA)(null!=e&&e.length>0,(()=>"URL path for http must not be null, undefined or empty.")),Array.isArray(e)&&(0,S.vA)(2===e.length,(()=>`URL paths for http must have a length of 2, (actual length is ${e.length}).`)),this.path=e,null!=t.requestInit&&null!=t.requestInit.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=t.requestInit||{}}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");const t=Object.assign({method:this.DEFAULT_METHOD},this.requestInit);t.body=new FormData;const n=[{paths:["./model.weights.bin"],weights:e.weightSpecs}],r=(0,f.zV)(e,n);t.body.append("model.json",new Blob([JSON.stringify(r)],{type:"application/json"}),"model.json"),null!=e.weightData&&t.body.append("model.weights.bin",new Blob([e.weightData],{type:"application/octet-stream"}),"model.weights.bin");const s=await this.fetch(this.path,t);if(s.ok)return{modelArtifactsInfo:(0,f.oR)(e),responses:[s]};throw new Error(`BrowserHTTPRequest.save() failed due to HTTP response status ${s.status}.`)}async load(){const e=await this.fetch(this.path,this.requestInit);if(!e.ok)throw new Error(`Request to ${this.path} failed with status code ${e.status}. Please verify this URL points to the model JSON of the model to load.`);let t;try{t=await e.json()}catch(e){let t=`Failed to parse model JSON of response from ${this.path}.`;throw this.path.endsWith(".pb")?t+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":t+=" Please make sure the server is serving valid JSON for this request.",new Error(t)}const n=t.modelTopology,r=t.weightsManifest;if(null==n&&null==r)throw new Error(`The JSON from HTTP path ${this.path} contains neither model topology or manifest for weights.`);return(0,f.Ej)(t,(e=>this.loadWeights(e)))}async loadWeights(e){const t=Array.isArray(this.path)?this.path[1]:this.path,[n,r]=function(e){const t=e.lastIndexOf("/"),n=e.lastIndexOf("?");return[e.substring(0,t)+"/",n>t?e.substring(n):""]}(t),s=this.weightPathPrefix||n,a=(0,f.Xf)(e),o=[],i=[];for(const t of e)for(const e of t.paths)null!=this.weightUrlConverter?i.push(this.weightUrlConverter(e)):o.push(s+e+r);this.weightUrlConverter&&o.push(...await Promise.all(i));const l=await F(o,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress});return[a,(0,f.AQ)(l)]}}function I(e){return null!=e.match(A.URL_SCHEME_REGEX)}A.URL_SCHEME_REGEX=/^https?:\/\//;const N=(e,t)=>{if("undefined"==typeof fetch&&(null==t||null==t.fetchFunc))return null;{let n=!0;if(n=Array.isArray(e)?e.every((e=>I(e))):I(e),n)return R(e,t)}return null};function R(e,t){return new A(e,t)}function B(e,t){return R(e,t)}m.bM.registerSaveRouter(N),m.bM.registerLoadRouter(N);class M{constructor(e){this.modelArtifacts=e}load(){return this.modelArtifacts}}class D{constructor(e){this.saveHandler=e}save(e){return this.saveHandler(e)}}class P{constructor(e){e.load&&(this.load=()=>Promise.resolve(e.load())),e.save&&(this.save=t=>Promise.resolve(e.save(t)))}}function O(e,t,n,r){return new P(L(...arguments))}function L(e,t,n,r){return 1===arguments.length?null!=e.modelTopology||null!=e.weightSpecs?new M(e):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new M({modelTopology:e})):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new M({modelTopology:e,weightSpecs:t,weightData:n,trainingConfig:r}))}function C(e){return new D(e)}function $(e){return new D(e)}var j=n(66235),_=n(62198),z=n(27836),U=n(34969),G=n(79559),H=n(89783),W=n(64403),V=n(52046),J=n(23379),K=n(19115),q=n(35287),Q=n(37074);const X="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:"undefined"!=typeof setImmediate?setImmediate:e=>e();function Z(){return new Promise((e=>X((()=>e()))))}var Y=n(21078),ee=n(12789),te=n(47195),ne=n(68646),re=n(30429),se=n(29827),ae=n(29192),oe=n(81613),ie=n(83869),le=n(26170),ce=n(28576),de=n(11418),ue=n(73673);function he(e,t){if(e.length!==t.length)throw new Error(`Cannot merge real and imag arrays of different lengths. real:${e.length}, imag: ${t.length}.`);const n=new Float32Array(2*e.length);for(let r=0;r<n.length;r+=2)n[r]=e[r/2],n[r+1]=t[r/2];return n}function pe(e){const t=new Float32Array(e.length/2),n=new Float32Array(e.length/2);for(let r=0;r<e.length;r+=2)t[r/2]=e[r],n[r/2]=e[r+1];return{real:t,imag:n}}function ge(e){const t=Math.ceil(e.length/4),n=new Float32Array(t),r=new Float32Array(t);for(let t=0;t<e.length;t+=4)n[Math.floor(t/4)]=e[t],r[Math.floor(t/4)]=e[t+1];return{real:n,imag:r}}function fe(e){const t=Math.floor(e.length/4),n=new Float32Array(t),r=new Float32Array(t);for(let t=2;t<e.length;t+=4)n[Math.floor(t/4)]=e[t],r[Math.floor(t/4)]=e[t+1];return{real:n,imag:r}}function me(e,t){return{real:e[2*t],imag:e[2*t+1]}}function ye(e,t,n,r){e[2*r]=t,e[2*r+1]=n}function we(e,t){const n=new Float32Array(e/2),r=new Float32Array(e/2);for(let s=0;s<Math.ceil(e/2);s++){const a=(t?2:-2)*Math.PI*(s/e);n[s]=Math.cos(a),r[s]=Math.sin(a)}return{real:n,imag:r}}function ve(e,t,n){const r=(n?2:-2)*Math.PI*(e/t);return{real:Math.cos(r),imag:Math.sin(r)}}const ke="->",Se=/->/g,be=",",xe="...";function Fe(e,t){const n=((e=e.replace(/\s/g,"")).length-e.replace(Se,"").length)/ke.length;if(n<1)throw new Error("Equations without an arrow are not supported.");if(n>1)throw new Error(`Equation must contain exactly one arrow ("${ke}").`);const[r,s]=e.split(ke);(0,S.vA)(-1===r.indexOf(xe),(()=>`The ellipsis notation ("${xe}") is not supported yet.`));const a=r.split(be),o=a.length;if(t!==o)throw new Error(`Expected ${o} input tensors, received ${t}`);if(o>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");const i=[];for(let e=0;e<s.length;++e){const t=s[e];if(!a.some((e=>-1!==e.indexOf(t))))throw new Error(`Output subscripts contain the label ${t} not present in the input subscripts.`);-1===i.indexOf(t)&&i.push(t)}for(let e=0;e<r.length;++e){const t=r[e];-1===i.indexOf(t)&&t!==be&&i.push(t)}const l=new Array(a.length);for(let e=0;e<o;++e){if(new Set(a[e].split("")).size!==a[e].length)throw new Error(`Found duplicate axes in input component ${a[e]}. Support for duplicate axes in input is not implemented yet.`);l[e]=[];for(let t=0;t<a[e].length;++t)l[e].push(i.indexOf(a[e][t]))}const c=i.length,d=[];for(let e=s.length;e<c;++e)d.push(e);return{allDims:i,summedDims:d,idDims:l}}function Ee(e,t){let n=new Array(e);n.fill(-1);for(let e=0;e<t.length;++e)n[t[e]]=e;const r=[];for(let t=0;t<e;++t)-1===n[t]&&r.push(t);return n=n.filter((e=>-1!==e)),{permutationIndices:n,expandDims:r}}function Te(e,t,n){const r=new Array(e);for(let e=0;e<n.length;++e){const s=n[e].shape;for(let n=0;n<t[e].length;++n)void 0===r[t[e][n]]?r[t[e][n]]=s[n]:(0,S.vA)(r[t[e][n]]===s[n],(()=>`Expected dimension ${r[t[e][n]]} at axis ${n} of input shaped ${JSON.stringify(s)}, but got dimension ${s[n]}`))}}function Ae(e,t){const n=e,r=[];let s=0;0===e.length&&n.push(-1),s=e.length+1;for(let e=0;e<s;++e)r.push([]);const a=[];for(let e=0;e<n.length;++e){const s=Ne(t,n[e]);for(const t of s)-1===a.indexOf(t)&&(r[e].push(t),a.push(t))}return{path:n,steps:r}}function Ie(e){return e.every(((e,t)=>e===t))}function Ne(e,t){const n=[];for(let r=0;r<e.length;++r)0!==e[r].length&&-1===e[r].indexOf(t)&&-1!==t||n.push(r);return n}var Re=n(57303),Be=n(77618),Me=n(83255),De=n(55880),Pe=n(47516);function Oe(e){try{return e.map((e=>(0,H.decodeString)(e)))}catch(e){throw new Error(`Failed to decode encoded string bytes into utf-8, error: ${e}`)}}function Le(e){return e.map((e=>(0,H.encodeString)(e)))}var Ce=n(88580),$e=n(8360),je=n(54411),_e=n(15149),ze=n(15441);(0,p.i)()},30522:(e,t,n)=>{n.d(t,{lQ:()=>p,mn:()=>u}),n(66652);var r=n(46574),s=n(77084),a=n(46669);const o="tensorflowjs",i="models_store",l="model_info_store";function c(){if(!(0,r._K)().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");const e="undefined"==typeof window?self:window,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(null==t)throw new Error("The current browser does not appear to support IndexedDB.");return t}function d(e){const t=e.result;t.createObjectStore(i,{keyPath:"modelPath"}),t.createObjectStore(l,{keyPath:"modelPath"})}class u{constructor(e){if(this.indexedDB=c(),null==e||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return this.databaseAction(this.modelPath,e)}async load(){return this.databaseAction(this.modelPath)}databaseAction(e,t){return new Promise(((e,n)=>{const r=this.indexedDB.open(o,1);r.onupgradeneeded=()=>d(r),r.onsuccess=()=>{const a=r.result;if(null==t){const t=a.transaction(i,"readonly"),r=t.objectStore(i).get(this.modelPath);r.onsuccess=()=>{if(null==r.result)return a.close(),n(new Error(`Cannot find model with path '${this.modelPath}' in IndexedDB.`));e(r.result.modelArtifacts)},r.onerror=e=>(a.close(),n(r.error)),t.oncomplete=()=>a.close()}else{const r=(0,s.oR)(t),o=a.transaction(l,"readwrite");let c=o.objectStore(l);const d=c.put({modelPath:this.modelPath,modelArtifactsInfo:r});let u;d.onsuccess=()=>{u=a.transaction(i,"readwrite");const s=u.objectStore(i).put({modelPath:this.modelPath,modelArtifacts:t,modelArtifactsInfo:r});s.onsuccess=()=>e({modelArtifactsInfo:r}),s.onerror=e=>{c=o.objectStore(l);const t=c.delete(this.modelPath);t.onsuccess=()=>(a.close(),n(s.error)),t.onerror=e=>(a.close(),n(s.error))}},d.onerror=e=>(a.close(),n(d.error)),o.oncomplete=()=>{null==u?a.close():u.oncomplete=()=>a.close()}}},r.onerror=e=>n(r.error)}))}}u.URL_SCHEME="indexeddb://";const h=e=>{return(0,r._K)().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(u.URL_SCHEME)?(t=e.slice(u.URL_SCHEME.length),new u(t)):null;var t};a.bM.registerSaveRouter(h),a.bM.registerLoadRouter(h);class p{constructor(){this.indexedDB=c()}async listModels(){return new Promise(((e,t)=>{const n=this.indexedDB.open(o,1);n.onupgradeneeded=()=>d(n),n.onsuccess=()=>{const r=n.result,s=r.transaction(l,"readonly"),a=s.objectStore(l).getAll();a.onsuccess=()=>{const t={};for(const e of a.result)t[e.modelPath]=e.modelArtifactsInfo;e(t)},a.onerror=e=>(r.close(),t(a.error)),s.oncomplete=()=>r.close()},n.onerror=e=>t(n.error)}))}async removeModel(e){var t;return e=(t=e).startsWith(u.URL_SCHEME)?t.slice(u.URL_SCHEME.length):t,new Promise(((t,n)=>{const r=this.indexedDB.open(o,1);r.onupgradeneeded=()=>d(r),r.onsuccess=()=>{const s=r.result,a=s.transaction(l,"readwrite"),o=a.objectStore(l),c=o.get(e);let d;c.onsuccess=()=>{if(null==c.result)return s.close(),n(new Error(`Cannot find model with path '${e}' in IndexedDB.`));{const r=o.delete(e),a=()=>{d=s.transaction(i,"readwrite");const r=d.objectStore(i).delete(e);r.onsuccess=()=>t(c.result.modelArtifactsInfo),r.onerror=e=>n(c.error)};r.onsuccess=a,r.onerror=e=>(a(),s.close(),n(c.error))}},c.onerror=e=>(s.close(),n(c.error)),a.oncomplete=()=>{null==d?s.close():d.oncomplete=()=>s.close()}},r.onerror=e=>n(r.error)}))}}},77084:(e,t,n)=>{n.d(t,{AQ:()=>f,CY:()=>c,Ej:()=>v,P8:()=>m,Rl:()=>w,Xf:()=>S,aG:()=>l,jf:()=>g,l3:()=>p,oR:()=>k,zV:()=>y});var r=n(37148),s=n(74027),a=n(45119),o=n(15685);const i=4;async function l(e,t){const n=[],r=[],s=Array.isArray(e)?e.map((e=>e.name)):Object.keys(e);for(let a=0;a<s.length;++a){const o=s[a],l=Array.isArray(e)?e[a].tensor:e[o];if("float32"!==l.dtype&&"int32"!==l.dtype&&"bool"!==l.dtype&&"string"!==l.dtype&&"complex64"!==l.dtype)throw new Error(`Unsupported dtype in weight '${o}': ${l.dtype}`);const c={name:o,shape:l.shape,dtype:l.dtype};if("string"===l.dtype){const e=new Promise((async e=>{const t=await l.bytes(),n=t.reduce(((e,t)=>e+t.length),0)+i*t.length,r=new Uint8Array(n);let s=0;for(let e=0;e<t.length;e++){const n=t[e],a=new Uint8Array(new Uint32Array([n.length]).buffer);r.set(a,s),s+=i,r.set(n,s),s+=n.length}e(r)}));r.push(e)}else r.push(l.data());null!=t&&(c.group=t),n.push(c)}return{data:d(await Promise.all(r)),specs:n}}function c(e,t){const n={};let l,c=0;for(const d of t){const t=d.name,u=d.dtype,h=d.shape,p=(0,a.Ze)(h);let g;if("quantization"in d){const n=d.quantization;if("uint8"===n.dtype||"uint16"===n.dtype){if(!("min"in n)||!("scale"in n))throw new Error(`Weight ${d.name} with quantization ${n.dtype} doesn't have corresponding metadata min and scale.`)}else{if("float16"!==n.dtype)throw new Error(`Weight ${d.name} has unknown quantization dtype ${n.dtype}. Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.`);if("float32"!==u)throw new Error(`Weight ${d.name} is quantized with ${n.dtype} which only supports weights of type float32 not ${u}.`)}const r=o.i[n.dtype],s=e.slice(c,c+p*r),a="uint8"===n.dtype?new Uint8Array(s):new Uint16Array(s);if("float32"===u)if("uint8"===n.dtype||"uint16"===n.dtype){g=new Float32Array(a.length);for(let e=0;e<a.length;e++){const t=a[e];g[e]=t*n.scale+n.min}}else{if("float16"!==n.dtype)throw new Error(`Unsupported quantization type ${n.dtype} for weight type float32.`);void 0===l&&(l=b()),g=l(a)}else{if("int32"!==u)throw new Error(`Unsupported dtype in weight '${t}': ${u}`);if("uint8"!==n.dtype&&"uint16"!==n.dtype)throw new Error(`Unsupported quantization type ${n.dtype} for weight type int32.`);g=new Int32Array(a.length);for(let e=0;e<a.length;e++){const t=a[e];g[e]=Math.round(t*n.scale+n.min)}}c+=p*r}else if("string"===u){const t=(0,a.Ze)(d.shape);g=[];for(let n=0;n<t;n++){const t=new Uint32Array(e.slice(c,c+i))[0];c+=i;const n=new Uint8Array(e.slice(c,c+t));g.push(n),c+=t}}else{const a=o.i[u],i=e.slice(c,c+p*a);if("float32"===u)g=new Float32Array(i);else if("int32"===u)g=new Int32Array(i);else if("bool"===u)g=new Uint8Array(i);else{if("complex64"!==u)throw new Error(`Unsupported dtype in weight '${t}': ${u}`);{g=new Float32Array(i);const e=new Float32Array(g.length/2),a=new Float32Array(g.length/2);for(let t=0;t<e.length;t++)e[t]=g[2*t],a[t]=g[2*t+1];const o=(0,s.O)(e,h,"float32"),l=(0,s.O)(a,h,"float32");n[t]=(0,r.f)(o,l),o.dispose(),l.dispose()}}c+=p*a}"complex64"!==u&&(n[t]=(0,s.O)(g,h,u))}return n}function d(e){if(null===e)throw new Error(`Invalid input value: ${JSON.stringify(e)}`);let t=0;const n=[];e.forEach((e=>{if(t+=e.byteLength,n.push(e.byteLength===e.buffer.byteLength?e:new e.constructor(e)),!(e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array))throw new Error(`Unsupported TypedArray subtype: ${e.constructor.name}`)}));const r=new Uint8Array(t);let s=0;return n.forEach((e=>{r.set(new Uint8Array(e.buffer),s),s+=e.byteLength})),r.buffer}const u="undefined"!=typeof Buffer&&("undefined"==typeof Blob||"undefined"==typeof atob||"undefined"==typeof btoa);function h(e){return u?Buffer.byteLength(e):new Blob([e]).size}function p(e){if(u)return Buffer.from(e).toString("base64");const t=new Uint8Array(e);let n="";for(let e=0,r=t.length;e<r;e++)n+=String.fromCharCode(t[e]);return btoa(n)}function g(e){if(u){const t=Buffer.from(e,"base64");return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}const t=atob(e),n=new Uint8Array(t.length);for(let e=0;e<t.length;++e)n.set([t.charCodeAt(e)],e);return n.buffer}function f(e){if(1===e.length)return e[0];let t=0;e.forEach((e=>{t+=e.byteLength}));const n=new Uint8Array(t);let r=0;return e.forEach((e=>{n.set(new Uint8Array(e),r),r+=e.byteLength})),n.buffer}function m(e){for(e=e.trim();e.endsWith("/");)e=e.slice(0,e.length-1);const t=e.split("/");return t[t.length-1]}function y(e,t){const n={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,weightsManifest:t};return null!=e.signature&&(n.signature=e.signature),null!=e.userDefinedMetadata&&(n.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(n.modelInitializer=e.modelInitializer),null!=e.initializerSignature&&(n.initializerSignature=e.initializerSignature),null!=e.trainingConfig&&(n.trainingConfig=e.trainingConfig),n}function w(e,t,n){const r={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy};if(null!=e.trainingConfig&&(r.trainingConfig=e.trainingConfig),null!=e.weightsManifest){if(!t)throw new Error("modelJSON has weightsManifest but weightSpecs is null");if(!n)throw new Error("modelJSON has weightsManifest but weightData is null");r.weightSpecs=t,r.weightData=n}return null!=e.signature&&(r.signature=e.signature),null!=e.userDefinedMetadata&&(r.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(r.modelInitializer=e.modelInitializer),null!=e.initializerSignature&&(r.initializerSignature=e.initializerSignature),r}async function v(e,t){let n,r;return null!=e.weightsManifest&&([n,r]=await t(e.weightsManifest)),w(e,n,r)}function k(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==e.modelTopology?0:h(JSON.stringify(e.modelTopology)),weightSpecsBytes:null==e.weightSpecs?0:h(JSON.stringify(e.weightSpecs)),weightDataBytes:null==e.weightData?0:e.weightData.byteLength}}function S(e){const t=[];for(const n of e)t.push(...n.weights);return t}function b(){const e=function(){const e=e=>{let t=e<<13,n=0;for(;0==(8388608&t);)n-=8388608,t<<=1;return t&=-8388609,n+=947912704,t|n},t=new Uint32Array(2048);t[0]=0;for(let n=1;n<1024;n++)t[n]=e(n);for(let e=1024;e<2048;e++)t[e]=939524096+(e-1024<<13);return t}(),t=function(){const e=new Uint32Array(64);e[0]=0,e[31]=1199570944,e[32]=2147483648,e[63]=3347054592;for(let t=1;t<31;t++)e[t]=t<<23;for(let t=33;t<63;t++)e[t]=2147483648+(t-32<<23);return e}(),n=function(){const e=new Uint32Array(64);for(let t=0;t<64;t++)e[t]=1024;return e[0]=e[32]=0,e}();return r=>{const s=new ArrayBuffer(4*r.length),a=new Uint32Array(s);for(let s=0;s<r.length;s++){const o=r[s],i=e[n[o>>10]+(1023&o)]+t[o>>10];a[s]=i}return new Float32Array(s)}}},76745:(e,t,n)=>{n.d(t,{Cd:()=>v,ZT:()=>y}),n(66652);var r=n(46574),s=n(45119),a=n(77084),o=n(46669);const i="/",l="tensorflowjs_models",c="info",d="model_topology",u="weight_specs",h="weight_data",p="model_metadata";function g(e){return{info:[l,e,c].join(i),topology:[l,e,d].join(i),weightSpecs:[l,e,u].join(i),weightData:[l,e,h].join(i),modelMetadata:[l,e,p].join(i)}}function f(e){for(const t of Object.values(e))window.localStorage.removeItem(t)}function m(e){const t=e.split(i);if(t.length<3)throw new Error(`Invalid key format: ${e}`);return t.slice(1,t.length-1).join(i)}class y{constructor(e){if(!(0,r._K)().getBool("IS_BROWSER")||"undefined"==typeof window||void 0===window.localStorage)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==e||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=g(this.modelPath)}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{const t=JSON.stringify(e.modelTopology),n=JSON.stringify(e.weightSpecs),r=(0,a.oR)(e);try{this.LS.setItem(this.keys.info,JSON.stringify(r)),this.LS.setItem(this.keys.topology,t),this.LS.setItem(this.keys.weightSpecs,n),this.LS.setItem(this.keys.weightData,(0,a.l3)(e.weightData));const s={format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,signature:null!=e.signature?e.signature:void 0,userDefinedMetadata:null!=e.userDefinedMetadata?e.userDefinedMetadata:void 0,modelInitializer:null!=e.modelInitializer?e.modelInitializer:void 0,initializerSignature:null!=e.initializerSignature?e.initializerSignature:void 0,trainingConfig:null!=e.trainingConfig?e.trainingConfig:void 0};return this.LS.setItem(this.keys.modelMetadata,JSON.stringify(s)),{modelArtifactsInfo:r}}catch(e){throw f(this.keys),new Error(`Failed to save model '${this.modelPath}' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes=${r.modelTopologyBytes}, weightSpecsBytes=${r.weightSpecsBytes}, weightDataBytes=${r.weightDataBytes}.`)}}}async load(){const e=JSON.parse(this.LS.getItem(this.keys.info));if(null==e)throw new Error(`In local storage, there is no model with name '${this.modelPath}'`);if("JSON"!==e.modelTopologyType)throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");const t={},n=JSON.parse(this.LS.getItem(this.keys.topology));if(null==n)throw new Error(`In local storage, the topology of model '${this.modelPath}' is missing.`);t.modelTopology=n;const r=JSON.parse(this.LS.getItem(this.keys.weightSpecs));if(null==r)throw new Error(`In local storage, the weight specs of model '${this.modelPath}' are missing.`);t.weightSpecs=r;const s=this.LS.getItem(this.keys.modelMetadata);if(null!=s){const e=JSON.parse(s);t.format=e.format,t.generatedBy=e.generatedBy,t.convertedBy=e.convertedBy,null!=e.signature&&(t.signature=e.signature),null!=e.userDefinedMetadata&&(t.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(t.modelInitializer=e.modelInitializer),null!=e.initializerSignature&&(t.initializerSignature=e.initializerSignature),null!=e.trainingConfig&&(t.trainingConfig=e.trainingConfig)}const o=this.LS.getItem(this.keys.weightData);if(null==o)throw new Error(`In local storage, the binary weight values of model '${this.modelPath}' are missing.`);return t.weightData=(0,a.jf)(o),t}}y.URL_SCHEME="localstorage://";const w=e=>{return(0,r._K)().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(y.URL_SCHEME)?(t=e.slice(y.URL_SCHEME.length),new y(t)):null;var t};o.bM.registerSaveRouter(w),o.bM.registerLoadRouter(w);class v{constructor(){(0,s.vA)((0,r._K)().getBool("IS_BROWSER"),(()=>"Current environment is not a web browser")),(0,s.vA)("undefined"==typeof window||void 0!==window.localStorage,(()=>"Current browser does not appear to support localStorage")),this.LS=window.localStorage}async listModels(){const e={},t=l+i,n=i+c;for(let r=0;r<this.LS.length;++r){const s=this.LS.key(r);s.startsWith(t)&&s.endsWith(n)&&(e[m(s)]=JSON.parse(this.LS.getItem(s)))}return e}async removeModel(e){var t;const n=g(e=(t=e).startsWith(y.URL_SCHEME)?t.slice(y.URL_SCHEME.length):t);if(null==this.LS.getItem(n.info))throw new Error(`Cannot find model at path '${e}'`);const r=JSON.parse(this.LS.getItem(n.info));return f(n),r}}},66235:(e,t,n)=>{n.d(t,{D:()=>c,Vo:()=>h,az:()=>d,dy:()=>o,xk:()=>u});var r=n(45119),s=n(46669);const a="://";class o{constructor(){this.managers={}}static getInstance(){return null==o.instance&&(o.instance=new o),o.instance}static registerManager(e,t){(0,r.vA)(null!=e,(()=>"scheme must not be undefined or null.")),e.endsWith(a)&&(e=e.slice(0,e.indexOf(a))),(0,r.vA)(e.length>0,(()=>"scheme must not be an empty string."));const n=o.getInstance();(0,r.vA)(null==n.managers[e],(()=>`A model store manager is already registered for scheme '${e}'.`)),n.managers[e]=t}static getManager(e){const t=o.getInstance().managers[e];if(null==t)throw new Error(`Cannot find model manager for scheme '${e}'`);return t}static getSchemes(){return Object.keys(o.getInstance().managers)}}function i(e){if(-1===e.indexOf(a))throw new Error(`The url string provided does not contain a scheme. Supported schemes are: ${o.getSchemes().join(",")}`);return{scheme:e.split(a)[0],path:e.split(a)[1]}}async function l(e,t,n=!1){(0,r.vA)(e!==t,(()=>`Old path and new path are the same: '${e}'`));const a=s.bM.getLoadHandlers(e);(0,r.vA)(a.length>0,(()=>`Copying failed because no load handler is found for source URL ${e}.`)),(0,r.vA)(a.length<2,(()=>`Copying failed because more than one (${a.length}) load handlers for source URL ${e}.`));const l=a[0],c=s.bM.getSaveHandlers(t);(0,r.vA)(c.length>0,(()=>`Copying failed because no save handler is found for destination URL ${t}.`)),(0,r.vA)(c.length<2,(()=>`Copying failed because more than one (${a.length}) save handlers for destination URL ${t}.`));const d=c[0],u=i(e).scheme,h=i(e).path,p=u===i(e).scheme,g=await l.load();n&&p&&await o.getManager(u).removeModel(h);const f=await d.save(g);return n&&!p&&await o.getManager(u).removeModel(h),f.modelArtifactsInfo}async function c(){const e=o.getSchemes(),t={};for(const n of e){const e=await o.getManager(n).listModels();for(const r in e)t[n+a+r]=e[r]}return t}async function d(e){const t=i(e);return o.getManager(t.scheme).removeModel(t.path)}async function u(e,t){return l(e,t,!1)}async function h(e,t){return l(e,t,!0)}},46669:(e,t,n)=>{n.d(t,{C9:()=>i,R4:()=>a,Yd:()=>s,bM:()=>r,x3:()=>o});class r{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return null==r.instance&&(r.instance=new r),r.instance}static registerSaveRouter(e){r.getInstance().saveRouters.push(e)}static registerLoadRouter(e){r.getInstance().loadRouters.push(e)}static getSaveHandlers(e){return r.getHandlers(e,"save")}static getLoadHandlers(e,t){return r.getHandlers(e,"load",t)}static getHandlers(e,t,n){const s=[];return("load"===t?r.getInstance().loadRouters:r.getInstance().saveRouters).forEach((t=>{const r=t(e,n);null!==r&&s.push(r)})),s}}const s=e=>r.registerSaveRouter(e),a=e=>r.registerLoadRouter(e),o=e=>r.getSaveHandlers(e),i=(e,t)=>r.getLoadHandlers(e,t)},15685:(e,t,n)=>{n.d(t,{i:()=>r});const r={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8}},15441:(e,t,n)=>{n.d(t,{$dB:()=>B,$jE:()=>Kt,$zE:()=>R,A1h:()=>O,A8B:()=>Ot,BK4:()=>cn,BLA:()=>Ve,BRl:()=>re,Blb:()=>Lt,BoJ:()=>jt,BxF:()=>ce,C8s:()=>$t,CQC:()=>lt,Cg$:()=>Ie,CwD:()=>Ee,D7i:()=>kt,Ddj:()=>Gt,Dr:()=>dn,DvZ:()=>zt,E3$:()=>Se,EkD:()=>i,ElG:()=>ue,EwU:()=>nn,FAs:()=>Zt,FCQ:()=>wt,FSt:()=>c,Fin:()=>Mt,Ik2:()=>b,J3C:()=>Nt,JiE:()=>At,Jp_:()=>d,KXH:()=>T,L6G:()=>_t,LB5:()=>F,LDN:()=>Le,LG0:()=>He,LRy:()=>ut,LWX:()=>et,LXA:()=>Be,M6A:()=>Ht,MRQ:()=>U,Mn0:()=>$,MnK:()=>j,N4F:()=>x,Ncv:()=>at,O4G:()=>ge,OAQ:()=>we,ODT:()=>rt,OMN:()=>o,ORI:()=>K,PH8:()=>a,P_L:()=>vt,Pah:()=>ee,PbM:()=>qt,Q6t:()=>dt,QDP:()=>A,QKF:()=>h,Qgm:()=>Y,R23:()=>gt,RUm:()=>Ne,RXX:()=>$e,SDM:()=>Xe,SQl:()=>le,T7M:()=>hn,TBb:()=>Yt,TL8:()=>ze,TMz:()=>H,TOR:()=>bt,ToN:()=>Pe,TyE:()=>g,UcO:()=>Wt,VAI:()=>Oe,VCH:()=>w,Vvy:()=>s,WT3:()=>Je,WuN:()=>Pt,X$8:()=>V,X0$:()=>xe,XQy:()=>mt,XhZ:()=>fe,YAb:()=>Vt,YVe:()=>Rt,ZgB:()=>de,Zl4:()=>Ze,_s9:()=>ne,aAr:()=>un,awo:()=>ln,bP9:()=>Q,cHb:()=>_e,cS:()=>v,dFH:()=>Dt,dLy:()=>en,dXR:()=>rn,dv8:()=>ve,e0f:()=>Ye,epO:()=>p,fUj:()=>pt,g5A:()=>Ue,gC7:()=>C,gIW:()=>ke,hVg:()=>St,hgw:()=>yt,ho8:()=>y,hql:()=>It,huO:()=>ht,i5R:()=>he,iGz:()=>L,iPs:()=>be,iW0:()=>Jt,iuW:()=>Xt,jAQ:()=>S,jM4:()=>De,jOE:()=>ft,jfg:()=>P,jgd:()=>Ut,jj_:()=>_,jxD:()=>q,kdj:()=>ot,l0G:()=>qe,l6P:()=>Et,lLS:()=>me,lNG:()=>Ge,ljI:()=>r,lxb:()=>m,lzr:()=>ye,mH5:()=>ct,mIA:()=>Fe,mM$:()=>nt,mnI:()=>Te,mxL:()=>pe,nVu:()=>J,nY8:()=>z,nZd:()=>Re,oFs:()=>Qt,oJ2:()=>it,ox3:()=>se,p2J:()=>M,pJc:()=>xt,pPe:()=>sn,p_m:()=>u,pk0:()=>X,pnw:()=>on,pr3:()=>N,pyJ:()=>st,rFG:()=>Ct,rFm:()=>D,rGP:()=>ie,rsH:()=>te,sDr:()=>Z,t3d:()=>Ce,tG8:()=>Ae,tGH:()=>W,u$b:()=>Tt,u8Z:()=>l,uWl:()=>Ft,urI:()=>tt,vI1:()=>Bt,vaV:()=>I,vj7:()=>E,wNW:()=>G,wwC:()=>k,wx0:()=>tn,x7F:()=>We,xJ3:()=>an,xu7:()=>Ke,ySp:()=>je,ybN:()=>ae,ybj:()=>oe,ylV:()=>Qe,zP9:()=>f,zfU:()=>Me});const r="Abs",s="Acos",a="Acosh",o="Add",i="AddN",l="All",c="Any",d="ArgMax",u="ArgMin",h="Asin",p="Asinh",g="Atan",f="Atanh",m="Atan2",y="AvgPool",w="AvgPoolGrad",v="AvgPool3D",k="AvgPool3DGrad",S="BatchMatMul",b="BatchToSpaceND",x="Bincount",F="BroadcastTo",E="BroadcastArgs",T="Cast",A="Ceil",I="ClipByValue",N="Complex",R="ComplexAbs",B="Concat",M="Conv2D",D="Conv2DBackpropFilter",P="Conv2DBackpropInput",O="Conv3D",L="Conv3DBackpropFilterV2",C="Conv3DBackpropInputV2",$="Cos",j="Cosh",_="Cumprod",z="Cumsum",U="CropAndResize",G="DenseBincount",H="DepthToSpace",W="DepthwiseConv2dNative",V="DepthwiseConv2dNativeBackpropFilter",J="DepthwiseConv2dNativeBackpropInput",K="Diag",q="Dilation2D",Q="Dilation2DBackpropInput",X="Dilation2DBackpropFilter",Z="RealDiv",Y="Einsum",ee="Elu",te="EluGrad",ne="Erf",re="Equal",se="Exp",ae="ExpandDims",oe="Expm1",ie="FFT",le="Fill",ce="FlipLeftRight",de="Floor",ue="FloorDiv",he="FusedBatchNorm",pe="GatherV2",ge="GatherNd",fe="Greater",me="GreaterEqual",ye="Identity",we="IFFT",ve="Imag",ke="IsFinite",Se="IsInf",be="IsNan",xe="LeakyRelu",Fe="Less",Ee="LessEqual",Te="LinSpace",Ae="Log",Ie="Log1p",Ne="LogicalAnd",Re="LogicalNot",Be="LogicalOr",Me="LogSoftmax",De="LRN",Pe="LRNGrad",Oe="Max",Le="Maximum",Ce="MaxPool",$e="MaxPoolGrad",je="MaxPool3D",_e="MaxPool3DGrad",ze="MaxPoolWithArgmax",Ue="Mean",Ge="Min",He="Minimum",We="MirrorPad",Ve="Mod",Je="Multinomial",Ke="Multiply",qe="Neg",Qe="NotEqual",Xe="NonMaxSuppressionV3",Ze="NonMaxSuppressionV4",Ye="NonMaxSuppressionV5",et="OnesLike",tt="OneHot",nt="Pack",rt="PadV2",st="Pow",at="Prelu",ot="Prod",it="RaggedGather",lt="RaggedRange",ct="RaggedTensorToTensor",dt="Range",ut="Real",ht="Reciprocal",pt="Relu",gt="Reshape",ft="ResizeNearestNeighbor",mt="ResizeNearestNeighborGrad",yt="ResizeBilinear",wt="ResizeBilinearGrad",vt="Relu6",kt="Reverse",St="Round",bt="Rsqrt",xt="ScatterNd",Ft="SearchSorted",Et="Select",Tt="Selu",At="Slice",It="Sin",Nt="Sinh",Rt="Sign",Bt="Sigmoid",Mt="Softplus",Dt="Sqrt",Pt="Sum",Ot="SpaceToBatchND",Lt="SplitV",Ct="Softmax",$t="SparseFillEmptyRows",jt="SparseReshape",_t="SparseSegmentMean",zt="SparseSegmentSum",Ut="SparseToDense",Gt="SquaredDifference",Ht="Square",Wt="StridedSlice",Vt="StringNGrams",Jt="StringSplit",Kt="StringToHashBucketFast",qt="Sub",Qt="Tan",Xt="Tanh",Zt="Tile",Yt="TopK",en="Transform",tn="Transpose",nn="Unique",rn="Unpack",sn="UnsortedSegmentSum",an="ZerosLike",on="Step",ln="FromPixels",cn="RotateWithOffset",dn="_FusedMatMul",un="FusedConv2D",hn="FusedDepthwiseConv2D"},37074:(e,t,n)=>{n.d(t,{Op:()=>d,_5:()=>l,kr:()=>h,tA:()=>u,vQ:()=>c});var r=n(46574),s=n(41743),a=n(73673);const o=(0,s.m)("kernelRegistry",(()=>new Map)),i=(0,s.m)("gradRegistry",(()=>new Map));function l(e,t){const n=p(e,t);return o.get(n)}function c(e){return i.get(e)}function d(e){const t=o.entries(),n=[];for(;;){const{done:r,value:s}=t.next();if(r)break;const[a,o]=s,[i]=a.split("_");i===e&&n.push(o)}return n}function u(e){const{kernelName:t,backendName:n}=e,r=p(t,n);o.has(r)&&a.i(`The kernel '${t}' for backend '${n}' is already registered`),o.set(r,e)}function h(e){const{kernelName:t}=e;i.has(t)&&(0,r._K)().getBool("DEBUG")&&a.i(`Overriding the gradient for '${t}'`),i.set(t,e)}function p(e,t){return`${t}_${e}`}}}]);